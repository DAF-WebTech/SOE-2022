{"version":3,"sources":["../../../src/biodiversity/freshwater-wetland/pressures-affecting-riverine.js"],"sourcesContent":["\"use strict\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\n\tlet current = \"\"\r\n\r\n\tsoefinding.findingJson.data.forEach(d => {\r\n\r\n\t\tif (d.Year == 2016) // only Reef has this and we want to leave them out\r\n\t\t\treturn\r\n\r\n\t\tconst name = d[\"Water quality report card\"]\r\n\r\n\t\tif (name != current) {\r\n\t\t\t// if we haven't seen it yet, initialise with first data item\r\n\t\t\tsoefinding.findingContent[name] = {\r\n\t\t\t\tseries: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: d[\"Identified pressure\"],\r\n\t\t\t\t\t\tdata: [d[\"Risk level\"], d[\"Threat level\"]]\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t}\r\n\t\t\tcurrent = name\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// add data item\r\n\t\t\tsoefinding.findingContent[name].series.push({\r\n\t\t\t\tname: d[\"Identified pressure\"],\r\n\t\t\t\tdata: [d[\"Risk level\"], d[\"Threat level\"]]\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\n\t// not all regions are in the data file, so initalise them\r\n\tsoefinding.regionNames.forEach(r => {\r\n\t\tif (!soefinding.findingContent[r])\r\n\t\t\tsoefinding.findingContent[r] = {\r\n\t\t\t\tseries: null\r\n\t\t\t}\r\n\t})\r\n\r\n\tconst options = {\r\n\t\txaxis: {\r\n\t\t\tcategories: soefinding.findingJson.meta.fields.slice(-2)\r\n\t\t}\r\n\t}\r\n\r\n\tsoefinding.state.chart1 = {\r\n\t\tseries: soefinding.findingContent[soefinding.state.currentRegionName].series,\r\n\t\toptions,\r\n\t}\r\n\r\n\r\n\tnew Vue({\r\n\t\tel: \"#chartContainer\",\r\n\t\tdata: soefinding.state,\r\n\t\tcomputed: {\r\n\t\t\theading1: function () { return `Pressures identified in ${this.currentRegionName}` }\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatter1: val => val?.toLocaleString() ?? \"\"\r\n\t\t}\r\n\t})\r\n\r\n\r\n\tsoefinding.onRegionChange = function () {\r\n\t\tsoefinding.state.chart1.series = soefinding.findingContent[soefinding.state.currentRegionName].series\r\n\r\n\t\tsoefinding.loadFindingHtml()\r\n\t}\r\n})"],"mappings":"aAEA,SAAS,iBAAiB,mBAAoB,UAAY,CAEzD,GAAI,SAAU,GAEd,WAAW,YAAY,KAAK,QAAQ,GAAK,CAExC,GAAI,EAAE,MAAQ,KACb,OAED,KAAM,MAAO,EAAE,6BAEf,GAAI,MAAQ,QAAS,CAEpB,WAAW,eAAe,MAAQ,CACjC,OAAQ,CACP,CACC,KAAM,EAAE,uBACR,KAAM,CAAC,EAAE,cAAe,EAAE,oBAI7B,QAAU,SAEN,CAEJ,WAAW,eAAe,MAAM,OAAO,KAAK,CAC3C,KAAM,EAAE,uBACR,KAAM,CAAC,EAAE,cAAe,EAAE,sBAM7B,WAAW,YAAY,QAAQ,GAAK,CACnC,GAAI,CAAC,WAAW,eAAe,GAC9B,WAAW,eAAe,GAAK,CAC9B,OAAQ,QAIX,KAAM,SAAU,CACf,MAAO,CACN,WAAY,WAAW,YAAY,KAAK,OAAO,MAAM,MAIvD,WAAW,MAAM,OAAS,CACzB,OAAQ,WAAW,eAAe,WAAW,MAAM,mBAAmB,OACtE,SAID,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,UAAY,CAAE,MAAO,2BAA2B,KAAK,sBAEhE,QAAS,CACR,WAAY,KAAO,KAAK,kBAAoB,MAK9C,WAAW,eAAiB,UAAY,CACvC,WAAW,MAAM,OAAO,OAAS,WAAW,eAAe,WAAW,MAAM,mBAAmB,OAE/F,WAAW","names":[]}
"use strict";document.addEventListener("DOMContentLoaded",function(){let a=soefinding.findingJson.meta.fields.slice(2),s=a.at(-1),d=[];for(let e=0;e<7;++e){let n={Bioregion:"Queensland","Clearing type":soefinding.findingJson.data[e]["Clearing type"]};a.forEach(t=>n[t]=0),d.push(n)}soefinding.findingJson.data.sort(function(e,n){return n[s]-e[s]});let o=new Map;soefinding.findingJson.data.forEach(e=>{o.has(e.Bioregion)?o.get(e.Bioregion).push(e):o.set(e.Bioregion,[e]);let n=d.find(t=>t["Clearing type"]==e["Clearing type"]);a.forEach(t=>n[t]+=e[t])}),d.sort(function(e,n){return n[s]-e[s]}),o.set("Queensland",d);for(let[e,n]in o);for(let[e,n]of o){soefinding.findingContent[e]={series1:n.map(i=>i[s]),labels:n.map(i=>i["Clearing type"])},soefinding.findingContent[e].series2=n.map(i=>({name:i["Clearing type"].split(" "),data:a.map(f=>i[f])}));let t={Bioregion:e,"Clearing type":"total"};a.forEach(i=>t[i]=0),n.forEach(i=>{a.forEach(f=>{t[f]+=i[f]})}),soefinding.findingContent[e].series3=[{name:"Hectares",data:a.map(i=>t[i])}]}let g=soefinding.getDefaultPieChartOptions();g.chart.id="chart1",g.labels=soefinding.findingContent[soefinding.state.currentRegionName].labels,g.xaxis.categories=["Clearing type","Hectares"],g.tooltip={y:{formatter:(e,n)=>{let t=n.globals.seriesPercent[n.seriesIndex][0];return`${e.toLocaleString()} ha. (${t.toFixed(1)}%)`}}},soefinding.state.chart1={series:soefinding.findingContent[soefinding.state.currentRegionName].series1,options:g,chartactive:!0};let r=soefinding.getDefaultLineChartOptions();r.chart.id="chart2",r.xaxis.categories=a.map(e=>e.replace("-","\u2013")),r.xaxis.title.text="Year",r.yaxis.title.text="Hectares",r.yaxis.labels.formatter=e=>e>=1e6?`${e/1e6}M`:e>=1e3?`${e/1e3}K`:e,r.tooltip.y={formatter:e=>`${e.toLocaleString()} ha.`},soefinding.state.chart2={series:soefinding.findingContent[soefinding.state.currentRegionName].series2,options:r,chartactive:!0},soefinding.state.chart3={series:soefinding.findingContent[soefinding.state.currentRegionName].series3,options:r,chartactive:!0},new Vue({el:"#chartContainer",data:soefinding.state,computed:{heading1:()=>{let e=`Proportion of replacement landcover (clearing type) in threatened ${soefinding.biota} habitat`;return soefinding.state.currentRegionName!="Queensland"&&(e+=" in ",!soefinding.state.currentRegionName.startsWith("South")&&!soefinding.state.currentRegionName.startsWith("Cape")&&(e+=" the "),e+=`${soefinding.state.currentRegionName}`),e+=`, ${s.replace("-","\u2013")}`,e},heading2:()=>{let e=`Trends in replacement landcover (clearing type) in threatened ${soefinding.biota} habitat`;return soefinding.state.currentRegionName!="Queensland"&&(e+=" in ",soefinding.state.currentRegionName.includes("Queensland")||(e+=" the "),e+=`${soefinding.state.currentRegionName}`),e+=`, ${s.replace("-","\u2013")}`,e},heading3:()=>{let e=`Trend in total replacement landcover (clearing type) in threatened ${soefinding.biota} habitat`;return soefinding.state.currentRegionName!="Queensland"&&(e+=" in ",soefinding.state.currentRegionName.includes("Queensland")||(e+=" the "),e+=`${soefinding.state.currentRegionName}`),e+=`, ${s.replace("-","\u2013")}`,e}},methods:{formatter1:e=>e.toLocaleString()}}),window.soefinding.onRegionChange=function(){soefinding.state.chart1.series=this.findingContent[this.state.currentRegionName].series1,soefinding.state.chart1.options.labels=this.findingContent[this.state.currentRegionName].labels,soefinding.state.chart2.series=this.findingContent[this.state.currentRegionName].series2,soefinding.state.chart3.series=this.findingContent[this.state.currentRegionName].series3,soefinding.loadFindingHtml()}});
//# sourceMappingURL=land-clearing-impact.js.map
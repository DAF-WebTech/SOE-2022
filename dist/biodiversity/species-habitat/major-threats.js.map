{"version":3,"sources":["../../../src/biodiversity/species-habitat/major-threats.js"],"sourcesContent":["\"use strict\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\n\r\n\tconst tableSeries = [{\r\n\t\tname: \"Number of<br>threatened<br>species\",\r\n\t\tdata: soefinding.findingJson.data.map(d => d[`Number threatened ${soefinding.biota}`])\r\n\t}]\r\n\r\n\tconst chartItems = soefinding.findingJson.data.slice(0, 30) //the first thirty\r\n\tconst otherItems = soefinding.findingJson.data.slice(30) // the last few\r\n\tconst chartSeries = [{\r\n\t\tname: \"Number of<br>threatened<br>species\",\r\n\t\tdata: chartItems.map(d => d[`Number threatened ${soefinding.biota}`])\r\n\t}]\r\n\r\n\tchartSeries[0].data.push(\r\n\t\totherItems.reduce( function(acc, curr) { \r\n\t\t\treturn acc + curr[`Number threatened ${soefinding.biota}`]}, 0)\r\n\t)\r\n\r\n\tconst options = soefinding.getDefaultBarChartOptions()\r\n\toptions.chart.height = 600\r\n\toptions.xaxis.categories = chartItems.map(d => d.Threat.replace(\"-\", \"—\"))\r\n\toptions.xaxis.categories.push(\"Others\")\r\n\toptions.xaxis.labels.trim = true\r\n\toptions.plotOptions = {\r\n\t\tbar: {\r\n\t\t\thorizontal: true,\r\n\t\t}\r\n\t}\r\n\toptions.xaxis.title.text = \"Number of threatened species\"\r\n\toptions.yaxis.labels.minWidth = 300\r\n\toptions.yaxis.labels.maxWidth = 300\r\n\toptions.yaxis.title.offsetX = 15\r\n\toptions.yaxis.title.text = \"Threat\"\r\n\r\n\r\n\tsoefinding.state.chart1 = {\r\n\t\toptions,\r\n\t\tchartSeries,\r\n\t\ttableSeries,\r\n\t\tchartactive: true,\r\n\t\ttableCategories: soefinding.findingJson.data.map(d => d.Threat.replace(\"-\", \"—\"))\r\n\t}\r\n\r\n\r\n\r\n\tnew Vue({\r\n\t\tel: \"#chartContainer\",\r\n\t\tdata: soefinding.state,\r\n\t\tcomputed: {\r\n\t\t\theading1: () => `Major threats to ${soefinding.biota} species, 2024 TODO fix year`,\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatter1: val => val.toLocaleString()\r\n\t\t}\r\n\t})\r\n\r\n})\r\n\r\n"],"mappings":"aAEA,SAAS,iBAAiB,mBAAoB,UAAY,CAGzD,KAAM,aAAc,CAAC,CACpB,KAAM,qCACN,KAAM,WAAW,YAAY,KAAK,IAAI,GAAK,EAAE,qBAAqB,WAAW,YAG9E,KAAM,YAAa,WAAW,YAAY,KAAK,MAAM,EAAG,IACxD,KAAM,YAAa,WAAW,YAAY,KAAK,MAAM,IACrD,KAAM,aAAc,CAAC,CACpB,KAAM,qCACN,KAAM,WAAW,IAAI,GAAK,EAAE,qBAAqB,WAAW,YAG7D,YAAY,GAAG,KAAK,KACnB,WAAW,OAAQ,SAAS,IAAK,KAAM,CACtC,MAAO,KAAM,KAAK,qBAAqB,WAAW,UAAW,IAG/D,KAAM,SAAU,WAAW,4BAC3B,QAAQ,MAAM,OAAS,IACvB,QAAQ,MAAM,WAAa,WAAW,IAAI,GAAK,EAAE,OAAO,QAAQ,IAAK,WACrE,QAAQ,MAAM,WAAW,KAAK,UAC9B,QAAQ,MAAM,OAAO,KAAO,KAC5B,QAAQ,YAAc,CACrB,IAAK,CACJ,WAAY,OAGd,QAAQ,MAAM,MAAM,KAAO,+BAC3B,QAAQ,MAAM,OAAO,SAAW,IAChC,QAAQ,MAAM,OAAO,SAAW,IAChC,QAAQ,MAAM,MAAM,QAAU,GAC9B,QAAQ,MAAM,MAAM,KAAO,SAG3B,WAAW,MAAM,OAAS,CACzB,QACA,YACA,YACA,YAAa,KACb,gBAAiB,WAAW,YAAY,KAAK,IAAI,GAAK,EAAE,OAAO,QAAQ,IAAK,YAK7E,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,IAAM,oBAAoB,WAAW,qCAEhD,QAAS,CACR,WAAY,KAAO,IAAI","names":[]}
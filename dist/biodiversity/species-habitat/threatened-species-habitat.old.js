document.addEventListener("DOMContentLoaded",function(){soefinding.yearKeys=soefinding.findingJson.meta.fields.slice(3),soefinding.state.latestYear=soefinding.yearKeys[soefinding.yearKeys.length-1],soefinding.regions={},soefinding.findingJson.data.forEach(function(e){soefinding.regions[e.Region]||(soefinding.regions[e.Region]=[]),soefinding.regions[e.Region].push(e)}),soefinding.regionNames=Object.keys(soefinding.regions),soefinding.speciesGroups=[],soefinding.regions[soefinding.state.currentRegionName].forEach(function(e){soefinding.speciesGroups.push(e.Group)}),soefinding.regionNames.forEach(function(e){soefinding.findingContent[e]={html:"",app1:[],app2:[],app3:[],app4:[]};let s=[{name:"Pre-clear",data:[]},{name:"Remnant",data:[]}];soefinding.regions[e].forEach(function(n,r){s[0].data.push(n["Pre-clear"]),s[1].data.push(n[soefinding.state.latestYear])}),soefinding.findingContent[e].app1=s;let d=[{name:"Remnant",data:[]},{name:"Non-remnant",data:[]}];soefinding.regions[e].forEach(function(n,r){d[0].data.push(n[soefinding.state.latestYear]),d[1].data.push(n["Pre-clear"]-n[soefinding.state.latestYear])}),soefinding.findingContent[e].app2=d;let o=[];soefinding.speciesGroups.forEach(function(n,r){let f=[];soefinding.yearKeys.forEach(function(c){let p=soefinding.regions[e][r][c];f.push(p)}),o.push({name:n,data:f})}),soefinding.findingContent[e].app3=o,e=="Queensland"&&(soefinding.speciesPreClear={},soefinding.speciesGroups.forEach(function(n,r){soefinding.speciesPreClear[n]=[],soefinding.regionNames.forEach(function(f){f!="Queensland"&&soefinding.speciesPreClear[n].push(soefinding.regions[f][r]["Pre-clear"])})}))}),soefinding.findingContent[soefinding.firstChildPage].html=document.getElementById("findingTextContents").innerHTML;var i=soefinding.getDefaultBarChartOptions();i.xaxis.categories=soefinding.speciesGroups,i.xaxis.title.text="Fauna Group",i.yaxis.title.text="Hectares",i.yaxis.labels.formatter=function(e){return e/1e6+"M"},i.tooltip.y={formatter:function(e){return e.toLocaleString()+" ha"}};var a=soefinding.getPercentStackedBarChartOptions();a.xaxis.categories=soefinding.speciesGroups,a.xaxis.title.text="Fauna Group",a.yaxis.title.text="Proportion",a.tooltip.y={formatter:function(e){return e.toLocaleString()+" ha"}};var t=soefinding.getDefaultLineChartOptions();t.xaxis.categories=soefinding.yearKeys,t.xaxis.title.text={text:"Year"},t.yaxis.labels.formatter=function(e,s){return e/1e6+"M"},t.yaxis.title.text={text:"Hectares"},t.chart.events={legendClick:function(e,s,d){var o=soefinding.speciesGroups[s];soefinding.app4.series=soefinding.speciesPreClear[o],soefinding.app4.speciesName=o}};var g=soefinding.getDefaultPieChartOptions();g.labels=soefinding.regionNames.slice(1),g.xaxis={categories:g.labels},soefinding.state.chart1={options:i,series:soefinding.findingContent[soefinding.state.currentRegionName].app1,chartactive:!0},soefinding.state.chart2={options:a,series:soefinding.findingContent[soefinding.state.currentRegionName].app2,chartactive:!0},soefinding.state.chart3={options:t,series:soefinding.findingContent[soefinding.state.currentRegionName].app3,chartactive:!0},soefinding.state.chart4={options:g,series:soefinding.speciesPreClear.Birds,chartactive:!0},new Vue({el:"#chartContainer",data:soefinding.state,computed:{heading1:function(){return`Area of ${this.currentRegionName} pre-clear threatened ${soefinding.biota} habitat and ${this.latestYear} remnant habitat by species group`},heading2:function(){return`Proportion of ${this.currentRegionName} pre-clear threatened ${soefinding.biota} habitat that is remnant and non-remnant habitat, ${this.latestYear}`},heading3:function(){return`Trend in threatened species habitat, for ${this.currentRegionName}`},heading4:function(){return`Proportion of pre-clear threatened ${this.currentSpecies} habitat by bioregion`}},methods:{formatter1:e=>e.toLocaleString()}}),window.soefinding.onRegionChange=function(){soefinding.state.chart1.series=this.findingContent[this.state.currentRegionName].app1,soefinding.state.chart2.series=this.findingContent[this.state.currentRegionName].app2,soefinding.state.chart3.series=this.findingContent[this.state.currentRegionName].app3,soefinding.state.chart4.series=this.findingContent[this.state.currentRegionName].app4,soefinding.loadFindingHtml()}});
//# sourceMappingURL=threatened-species-habitat.old.js.map
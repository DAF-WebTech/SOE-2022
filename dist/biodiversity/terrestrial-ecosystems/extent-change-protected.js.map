{"version":3,"sources":["../../../src/biodiversity/terrestrial-ecosystems/extent-change-protected.js"],"sourcesContent":["\"use strict\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\n\tvar fields = soefinding.findingJson.meta.fields.slice(2);\r\n\r\n\tsoefinding.yearKeys = [];\r\n\tfor (var i = 0; i < fields.length; i += 3) {\r\n\t\tsoefinding.yearKeys.push(fields[i].split(\" \")[0]);\r\n\t}\r\n\r\n\tsoefinding.state.chart1 = { series: [], chartactive: true }\r\n\tsoefinding.state.chart2 = { series: [], chartactive: true }\r\n\tsoefinding.findingJson.data.forEach(function (row) {\r\n\t\tif (row[\"Protected areas\"] == \"All\") {\r\n\t\t\tvar data = [];\r\n\t\t\tfields.forEach(function (field, index) {\r\n\t\t\t\tif (index % 3 == 1) {\r\n\t\t\t\t\tdata.push(row[field]);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tsoefinding.state.chart2.series.push({ name: row[\"Type\"], data: data });\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar data = [];\r\n\t\t\tfields.forEach(function (field, index) {\r\n\t\t\t\tif (index % 3 == 0) {\r\n\t\t\t\t\tdata.push(row[field]);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tsoefinding.state.chart1.series.push({ name: row[\"Protected areas\"], data: data });\r\n\t\t}\r\n\t});\r\n\r\n\r\n\tsoefinding.state.chart1.options = soefinding.getDefaultBarChartOptions();\r\n\tsoefinding.state.chart1.options.chart.stacked = true;\r\n\tsoefinding.state.chart1.options.legend.inverseOrder = true\r\n\tdelete soefinding.state.chart1.options.xaxis.tickPlacement\r\n\tsoefinding.state.chart1.options.xaxis.categories = soefinding.yearKeys;\r\n\tsoefinding.state.chart1.options.xaxis.title.text = \"Year\";\r\n\tsoefinding.state.chart1.options.yaxis.title.text = \"Hectares\";\r\n\tsoefinding.state.chart1.options.tooltip.y = {\r\n\t\tformatter: function (val) {\r\n\t\t\tif (val == null)\r\n\t\t\t\treturn \"n/a\"\r\n\t\t\telse\r\n\t\t\t\treturn `${val.toLocaleString()} ha`\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tsoefinding.state.chart2.options = JSON.parse(JSON.stringify(soefinding.state.chart1.options))\r\n\tsoefinding.state.chart2.options.tooltip.y = soefinding.state.chart1.options.tooltip.y\r\n\tsoefinding.state.chart2.options.yaxis.labels.formatter = val => (val / 1000000) + \"M\"\r\n\r\n\r\n\t// note chart 3 is a line chart version of chart 1, and goes under chart 1\r\n\tsoefinding.state.chart3 = {\r\n\t\tseries: soefinding.state.chart1.series,\r\n\t\tchartactive: true\r\n\t}\r\n\tsoefinding.state.chart3.options = JSON.parse(JSON.stringify(soefinding.state.chart1.options))\r\n\tsoefinding.state.chart3.options.chart.type = \"line\"\r\n\tsoefinding.state.chart3.options.chart.stacked = false;\r\n\t//soefinding.state.chart3.options.legend.inverseOrder = false\r\n\tsoefinding.state.chart3.options.tooltip.y = soefinding.state.chart1.options.tooltip.y\r\n\tsoefinding.state.chart3.options.xaxis.tickPlacement = \"on\"\r\n\tsoefinding.state.chart3.options.yaxis.labels.formatter = soefinding.state.chart1.options.yaxis.labels.formatter\r\n\tsoefinding.state.chart3.options.tooltip.shared = false\r\n\r\n\r\n\r\n\tnew Vue({\r\n\t\tel: \"#chartContainer\",\r\n\t\tdata: soefinding.state,\r\n\t\tcomputed: {\r\n\t\t\theading1: () => `Cumulated number of each protected area`,\r\n\t\t\theading2: () => `Cumulated extent of all protected areas`,\r\n\t\t\theading3: () => `Number of each protected area`\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatter1: val => val?.toLocaleString() ?? \"\"\r\n\t\t}\r\n\t})\r\n\r\n})\r\n"],"mappings":"aAEA,SAAS,iBAAiB,mBAAoB,UAAY,CAEzD,GAAI,QAAS,WAAW,YAAY,KAAK,OAAO,MAAM,GAEtD,WAAW,SAAW,GACtB,OAAS,GAAI,EAAG,EAAI,OAAO,OAAQ,GAAK,EAAG,CAC1C,WAAW,SAAS,KAAK,OAAO,GAAG,MAAM,KAAK,IAG/C,WAAW,MAAM,OAAS,CAAE,OAAQ,GAAI,YAAa,MACrD,WAAW,MAAM,OAAS,CAAE,OAAQ,GAAI,YAAa,MACrD,WAAW,YAAY,KAAK,QAAQ,SAAU,IAAK,CAClD,GAAI,IAAI,oBAAsB,MAAO,CACpC,GAAI,MAAO,GACX,OAAO,QAAQ,SAAU,MAAO,MAAO,CACtC,GAAI,MAAQ,GAAK,EAAG,CACnB,KAAK,KAAK,IAAI,WAGhB,WAAW,MAAM,OAAO,OAAO,KAAK,CAAE,KAAM,IAAI,QAAS,WAErD,CACJ,GAAI,MAAO,GACX,OAAO,QAAQ,SAAU,MAAO,MAAO,CACtC,GAAI,MAAQ,GAAK,EAAG,CACnB,KAAK,KAAK,IAAI,WAGhB,WAAW,MAAM,OAAO,OAAO,KAAK,CAAE,KAAM,IAAI,mBAAoB,UAKtE,WAAW,MAAM,OAAO,QAAU,WAAW,4BAC7C,WAAW,MAAM,OAAO,QAAQ,MAAM,QAAU,KAChD,WAAW,MAAM,OAAO,QAAQ,OAAO,aAAe,KACtD,MAAO,YAAW,MAAM,OAAO,QAAQ,MAAM,cAC7C,WAAW,MAAM,OAAO,QAAQ,MAAM,WAAa,WAAW,SAC9D,WAAW,MAAM,OAAO,QAAQ,MAAM,MAAM,KAAO,OACnD,WAAW,MAAM,OAAO,QAAQ,MAAM,MAAM,KAAO,WACnD,WAAW,MAAM,OAAO,QAAQ,QAAQ,EAAI,CAC3C,UAAW,SAAU,IAAK,CACzB,GAAI,KAAO,KACV,MAAO,UAEP,OAAO,GAAG,IAAI,wBAKjB,WAAW,MAAM,OAAO,QAAU,KAAK,MAAM,KAAK,UAAU,WAAW,MAAM,OAAO,UACpF,WAAW,MAAM,OAAO,QAAQ,QAAQ,EAAI,WAAW,MAAM,OAAO,QAAQ,QAAQ,EACpF,WAAW,MAAM,OAAO,QAAQ,MAAM,OAAO,UAAY,KAAQ,IAAM,IAAW,IAIlF,WAAW,MAAM,OAAS,CACzB,OAAQ,WAAW,MAAM,OAAO,OAChC,YAAa,MAEd,WAAW,MAAM,OAAO,QAAU,KAAK,MAAM,KAAK,UAAU,WAAW,MAAM,OAAO,UACpF,WAAW,MAAM,OAAO,QAAQ,MAAM,KAAO,OAC7C,WAAW,MAAM,OAAO,QAAQ,MAAM,QAAU,MAEhD,WAAW,MAAM,OAAO,QAAQ,QAAQ,EAAI,WAAW,MAAM,OAAO,QAAQ,QAAQ,EACpF,WAAW,MAAM,OAAO,QAAQ,MAAM,cAAgB,KACtD,WAAW,MAAM,OAAO,QAAQ,MAAM,OAAO,UAAY,WAAW,MAAM,OAAO,QAAQ,MAAM,OAAO,UACtG,WAAW,MAAM,OAAO,QAAQ,QAAQ,OAAS,MAIjD,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,IAAM,0CAChB,SAAU,IAAM,0CAChB,SAAU,IAAM,iCAEjB,QAAS,CACR,WAAY,KAAO,KAAK,kBAAoB","names":[]}
"use strict";document.addEventListener("DOMContentLoaded",function(){let o=soefinding.findingJson.meta.fields.slice(4).at(-1);soefinding.findingJson.data.sort(function(e,t){return t[o]-e[o]});let a={},g=[];soefinding.findingJson.data.forEach(e=>{e["Broad vegetation group label"]=`${e["Broad vegetation group number"]}. ${e["Broad vegetation group label"].replace("-","\u2014")}`,a[e.Bioregion]||(a[e.Bioregion]=[]),a[e.Bioregion].push(e);let t=g.find(i=>i["Broad vegetation group label"]==e["Broad vegetation group label"]);t||(t={"Broad vegetation group label":e["Broad vegetation group label"],[o]:0},g.push(t)),t[o]+=e[o]});for(let e in a)soefinding.findingContent[e]={series1:a[e].map(t=>t[o]),labels1:a[e].map(t=>t["Broad vegetation group label"])};g.sort(function(e,t){return t[o]-e[o]}),soefinding.findingContent.Queensland={series1:g.map(e=>e[o]),labels1:g.map(e=>e["Broad vegetation group label"])};let d=soefinding.getDefaultPieChartOptions();d.chart.id="chart1",d.labels=soefinding.findingContent[soefinding.state.currentRegionName].labels1,d.tooltip={y:{formatter:(e,t)=>{let i=t.globals.seriesPercent[t.seriesIndex][0];return`${e.toLocaleString()} ha. (${i.toFixed(1)}%)`}}},d.xaxis.categories=["Broad vegetation group","Hectares"],soefinding.state.chart1={options:d,series:soefinding.findingContent[soefinding.state.currentRegionName].series1,chartactive:!0};let p=["Pre-clear vegetation",o];for(let e in a)a[e].sort(function(t,i){return t["Broad vegetation group number"]-i["Broad vegetation group number"]}),soefinding.findingContent[e].series2=p.map(t=>({name:t,data:a[e].map(i=>i[t])})),soefinding.findingContent[e].labels2=a[e].map(t=>t["Broad vegetation group label"]);soefinding.findingContent.Queensland.series2=soefinding.findingContent["Wet Tropics"].series2,soefinding.findingContent.Queensland.labels2=soefinding.findingContent["Wet Tropics"].labels2;let s=soefinding.getDefaultColumnChartOptions();s.chart.id="chart2",s.tooltip.y={formatter:e=>`${e.toLocaleString()}ha`},s.xaxis.categories=soefinding.findingContent[soefinding.state.currentRegionName].labels2,s.xaxis.labels.trim=!0,s.xaxis.labels.hideOverlappingLabels=!1,s.xaxis.tickPlacement="between",s.xaxis.title.text="Broad Vegetation Group",s.yaxis.labels.formatter=e=>`${e/1e6}M`,s.yaxis.title.text="Hectares",soefinding.state.chart2={options:s,series:soefinding.findingContent[soefinding.state.currentRegionName].series2,chartactive:!0};let u=JSON.parse(document.getElementById("jsonData3").textContent),l=u.meta.fields.slice(3),b=l.at(-1),r={};for(let e in a){let t=u.data.filter(i=>i.Bioregion==e);soefinding.findingContent[e].series3=t.map(i=>{let c=`${i["Broad vegetation group number"]}. ${i["Broad vegetation group label"]}`;return r[c]||(r[c]=l.map(f=>0)),r[c].forEach((f,h)=>r[c][h]+=i[l[h]]),{name:c,data:l.map(f=>i[f])}})}soefinding.findingContent.Queensland.series3=Object.keys(r).map(e=>({name:e.replace("-","\u2014"),data:r[e]})),soefinding.findingContent.Queensland.series3.sort(function(e,t){return parseInt(e.name.substring(0,e.name.indexOf(".")))-parseInt(t.name.substring(0,t.name.indexOf(".")))});let n=soefinding.getDefaultStackedColumnChartOptions();n.chart.height=600,n.chart.id="chart3",n.legend.inverseOrder=!1,n.legend.offsetY=20,n.legend.position="bottom",n.tooltip.y={formatter:e=>e.toLocaleString()},n.xaxis.categories=l.map(e=>[e.substring(0,e.indexOf("-"))+"\u2013",e.substring(e.indexOf("-")+1)]),delete n.xaxis.tickPlacement,n.xaxis.title.text="Year",n.yaxis.labels.formatter=e=>e>=1e6?`${e/1e6}M`:`${e/1e3}k`,n.yaxis.labels.minWidth=30,n.yaxis.title.text="Hectares lost",n.tooltip.shared=!1,soefinding.state.chart3={options:n,series:soefinding.findingContent[soefinding.state.currentRegionName].series3,chartactive:!0},new Vue({el:"#chartContainer",data:soefinding.state,computed:{heading1:()=>`Proportion of broad vegetation groups in ${soefinding.state.currentRegionName}, ${o}`,heading2:()=>`Pre-clear and ${o} extents of broad vegetation groups in ${soefinding.state.currentRegionName}`,heading3:function(){let e="Change in extent of broad vegetation groups";return this.currentRegionName!="Queensland"&&(e+=` in ${this.currentRegionName}`),e}},methods:{formatter1:e=>e.toLocaleString(),onStackedRadioClick:function(){this.chart3.options.chart.type="bar",this.chart3.options.chart.stacked=!0},onLineRadioClick:function(){this.chart3.options.chart.type="line",this.chart3.options.chart.stacked=!1,this.chart3.options.markers={size:4},this.chart3.options.tooltip.shared=!1}}}),window.soefinding.onRegionChange=function(){soefinding.state.chart1.series=this.findingContent[this.state.currentRegionName].series1,soefinding.state.chart1.options.labels=this.findingContent[this.state.currentRegionName].labels1,ApexCharts.exec("chart1","updateOptions",{labels:this.findingContent[this.state.currentRegionName].labels1}),this.state.currentRegionName!="Queensland"&&(soefinding.state.chart2.series=this.findingContent[this.state.currentRegionName].series2,soefinding.state.chart2.options.xaxis.categories=this.findingContent[this.state.currentRegionName].labels2,ApexCharts.exec("chart2","updateOptions",{xaxis:{categories:this.findingContent[this.state.currentRegionName].labels2}})),soefinding.state.chart3.series=this.findingContent[this.state.currentRegionName].series3,soefinding.loadFindingHtml()}});
//# sourceMappingURL=extent-change-remnant.js.map
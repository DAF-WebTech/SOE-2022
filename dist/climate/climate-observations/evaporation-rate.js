"use strict";soefinding.regions=pinLocations;document.addEventListener("DOMContentLoaded",function(){soefinding.yearKeys=soefinding.findingJson.meta.fields.slice(2);const latestYear=soefinding.yearKeys[soefinding.yearKeys.length-1];const regionNames=Object.keys(soefinding.regions);const locationItems=soefinding.findingJson.data.filter(d=>d.Measure=="Actual");const qldSeries=[{name:"Average",data:locationItems.map(d=>{let count=0;const sum=soefinding.yearKeys.reduce(function(acc,curr,i,a){if(d[curr]){++count;return acc+d[curr]}else return acc},0);return sum/count})}];soefinding.findingContent.Queensland={html:"",app1:qldSeries};const options1=soefinding.getDefaultBarChartOptions();options1.xaxis.categories=locationItems.map(d=>d.Name);options1.xaxis.title.text="Station";options1.yaxis.title.text="Mean annual pan evaporation (millimetres)";options1.yaxis.labels.formatter=val=>Math.round(val).toLocaleString();options1.tooltip.y={formatter:val=>val.toLocaleString()};soefinding.state.chart1={options:options1,series:soefinding.findingContent.Queensland.app1,chartactive:true};for(let region in soefinding.regions){const item=soefinding.findingJson.data.filter(d=>d.Name==region);const seriesNames=["Actual","Moving average"];const series=seriesNames.map(s=>{const regionItem=item.find(d=>d.Measure==s);return{name:s,data:soefinding.yearKeys.map(y=>regionItem[y])}});soefinding.findingContent[region]={html:"",app2:series}}const options2=soefinding.getDefaultLineChartOptions();options2.xaxis.categories=soefinding.yearKeys;options2.xaxis.title.text="Year";options2.yaxis.title.text="Annual pan evaporation (millimetres)";options2.yaxis.labels.formatter=val=>Math.round(val).toLocaleString();options2.tooltip.y={formatter:val=>val?.toLocaleString()??"n/a"};soefinding.state.chart2={options:options2,series:null,chartactive:true};if(soefinding.state.currentRegionName=="Queensland")soefinding.state.chart2.series=soefinding.findingContent["Cairns Airport"].app2;else soefinding.state.chart2.series=soefinding.findingContent[soefinding.state.currentRegionName].app2;new Vue({el:"#chartContainer",data:soefinding.state,computed:{heading1:()=>`Mean annual pan evaporation, ${soefinding.yearKeys[0]}\u2013${latestYear}`,heading2:()=>`Trend in evaporation rate at ${soefinding.state.currentRegionName}`},methods:{formatter1:function(val){return val?.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})??""}}});if(soefinding.state.currentRegionName=="Queensland")soefinding.onRegionChange()});soefinding.onRegionChange=function(){const regionInfos=document.querySelectorAll("div.region-info");if(this.state.currentRegionName=="Queensland"){try{regionInfos[0].style.display="block";regionInfos[1].style.display="none"}catch(e){}}else{regionInfos[0].style.display="none";regionInfos[1].style.display="block";this.state.chart2.series=this.findingContent[this.state.currentRegionName].app2}soefinding.loadFindingHtml()};
//# sourceMappingURL=evaporation-rate.js.map
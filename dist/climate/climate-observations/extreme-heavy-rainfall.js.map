{"version":3,"sources":["../../../src/climate/climate-observations/extreme-heavy-rainfall.js"],"sourcesContent":["\"use strict\"\r\n\r\nsoefinding.regions = pinLocations // these should already be set in ssjs\r\n\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\n\tconst yearKeys = soefinding.findingJson.meta.fields.slice(2);\r\n\r\n\t// 2. line chart, each location, actual and moving average\r\n\tObject.keys(pinLocations).forEach(function (loc) {\r\n\t\tconst actualItem = soefinding.findingJson.data.find(d => d.Name == loc && d.Measure == \"Actual\")\r\n\t\tconst movingAverageItem = soefinding.findingJson.data.find(d => d.Name == loc && d.Measure == \"Moving average\")\r\n\r\n\t\tconst series = [{\r\n\t\t\tname: \"Actual\",\r\n\t\t\tdata: yearKeys.map(y => actualItem[y])\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Moving average\",\r\n\t\t\tdata: yearKeys.map(y => movingAverageItem[y])\r\n\t\t}]\r\n\r\n\t\tsoefinding.findingContent[loc] = {\r\n\t\t\thtml: \"\",\r\n\t\t\tapp1: series\r\n\t\t}\r\n\t})\r\n\t// and one for queensland\r\n\tsoefinding.findingContent.Queensland = { html: \"\" }\r\n\r\n\r\n\tconst options1 = soefinding.getDefaultLineChartOptions();\r\n\toptions1.stroke = { width: 1.5 }\r\n\toptions1.markers.size = 3\r\n\toptions1.xaxis.categories = yearKeys\r\n\toptions1.xaxis.title.text = \"Year\";\r\n\toptions1.yaxis.title.text = \"Temperature (degrees celsius)\";\r\n\toptions1.yaxis.labels.formatter = val => Math.round(val)\r\n\toptions1.tooltip.y = {\r\n\t\tformatter: val => (val == null ? \"n/a\" : val.toFixed(1))\r\n\t}\r\n\r\n\tsoefinding.state.chart1 = {\r\n\t\tseries: soefinding.findingContent[soefinding.state.currentRegionName],\r\n\t\toptions: options1,\r\n\t\tchartactive: true,\r\n\t}\r\n\r\n\r\n\tnew Vue({\r\n\t\tel: \"#chartContainer\",\r\n\t\tdata: soefinding.state,\r\n\t\tcomputed: {\r\n\t\t\theading1: function() { \r\n\t\t\t\treturn`Trend in number of very heavy rainfall days at ${this.currentRegionName}`\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatter1: val => val\r\n\t\t}\r\n\t})\r\n})\r\n\r\n\r\n\r\nsoefinding.onRegionChange = function () {\r\n\r\n\tconst regionInfos = document.querySelectorAll(\"div.region-info\")\r\n\r\n\t// toggle visibility of region-info, not shown for Queensland\r\n\tif (this.state.currentRegionName != \"Queensland\") {\r\n\t\t// set the data series in the vue apps, for the current region\r\n\t\tthis.state.chart1.series = this.findingContent[this.state.currentRegionName].app1;\r\n\t}\r\n\r\n\tsoefinding.loadFindingHtml()\r\n}\r\n\r\n"],"mappings":"aAEA,WAAW,QAAU,aAGrB,SAAS,iBAAiB,mBAAoB,UAAY,CAEzD,GAAM,GAAW,WAAW,YAAY,KAAK,OAAO,MAAM,GAG1D,OAAO,KAAK,cAAc,QAAQ,SAAU,EAAK,CAChD,GAAM,GAAa,WAAW,YAAY,KAAK,KAAK,GAAK,EAAE,MAAQ,GAAO,EAAE,SAAW,UACjF,EAAoB,WAAW,YAAY,KAAK,KAAK,GAAK,EAAE,MAAQ,GAAO,EAAE,SAAW,kBAExF,EAAS,CAAC,CACf,KAAM,SACN,KAAM,EAAS,IAAI,GAAK,EAAW,KAEpC,CACC,KAAM,iBACN,KAAM,EAAS,IAAI,GAAK,EAAkB,MAG3C,WAAW,eAAe,GAAO,CAChC,KAAM,GACN,KAAM,KAIR,WAAW,eAAe,WAAa,CAAE,KAAM,IAG/C,GAAM,GAAW,WAAW,6BAC5B,EAAS,OAAS,CAAE,MAAO,KAC3B,EAAS,QAAQ,KAAO,EACxB,EAAS,MAAM,WAAa,EAC5B,EAAS,MAAM,MAAM,KAAO,OAC5B,EAAS,MAAM,MAAM,KAAO,gCAC5B,EAAS,MAAM,OAAO,UAAY,GAAO,KAAK,MAAM,GACpD,EAAS,QAAQ,EAAI,CACpB,UAAW,GAAQ,GAAO,KAAO,MAAQ,EAAI,QAAQ,IAGtD,WAAW,MAAM,OAAS,CACzB,OAAQ,WAAW,eAAe,WAAW,MAAM,mBACnD,QAAS,EACT,YAAa,IAId,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,UAAW,CACpB,MAAM,kDAAkD,KAAK,sBAG/D,QAAS,CACR,WAAY,GAAO,OAOtB,WAAW,eAAiB,UAAY,CAEvC,GAAM,GAAc,SAAS,iBAAiB,mBAG9C,AAAI,KAAK,MAAM,mBAAqB,cAEnC,MAAK,MAAM,OAAO,OAAS,KAAK,eAAe,KAAK,MAAM,mBAAmB,MAG9E,WAAW","names":[]}
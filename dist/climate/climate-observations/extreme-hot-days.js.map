{"version":3,"sources":["../../../src/climate/climate-observations/extreme-hot-days.js"],"sourcesContent":["\"use strict\"\r\n\r\nsoefinding.regions = pinLocations // these should already be set in ssjs\r\n\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\n\tconst yearKeys = soefinding.findingJson.meta.fields.slice(2);\r\n\r\n\t//  line chart, each location, actual and moving average\r\n\tObject.keys(pinLocations).forEach(function (loc) {\r\n\t\tconst actualItem = soefinding.findingJson.data.find(d => d.Name == loc && d.Measure == \"Actual\")\r\n\t\tconst movingAverageItem = soefinding.findingJson.data.find(d => d.Name == loc && d.Measure == \"Moving average\")\r\n\r\n\t\tconst series = [{\r\n\t\t\tname: \"Actual\",\r\n\t\t\tdata: yearKeys.map(y => actualItem[y])\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Moving average\",\r\n\t\t\tdata: yearKeys.map(y => movingAverageItem[y])\r\n\t\t}]\r\n\r\n\t\tsoefinding.findingContent[loc] = {\r\n\t\t\thtml: \"\",\r\n\t\t\tapp1: series\r\n\t\t}\r\n\t})\r\n\tsoefinding.findingContent.Queensland = {html: \"\"}\r\n\r\n\r\n\tconst options1 = soefinding.getDefaultLineChartOptions();\r\n\toptions1.stroke = { width: 1.5 }\r\n\toptions1.markers.size = 3\r\n\toptions1.xaxis.categories = yearKeys\r\n\toptions1.xaxis.title.text = \"Year\";\r\n\toptions1.yaxis.title.text = \"Temperature (degrees celsius)\";\r\n\toptions1.yaxis.labels.formatter = val => Math.round(val)\r\n\toptions1.tooltip.y = { formatter: val => val == null ? \"n/a\" : val.toFixed(1) }\r\n\r\n\tsoefinding.state.chart1 = {\r\n\t\tseries: soefinding.findingContent[soefinding.state.currentRegionName],\r\n\t\toptions: options1,\r\n\t\tchartactive: true,\r\n\t}\r\n\r\n\r\n\tnew Vue({\r\n\t\tel: \"#chartContainer\",\r\n\t\tdata: soefinding.state,\r\n\t\tcomputed: {\r\n\t\t\theading1: function() { return `Trend in number of extreme hot days at ${this.currentRegionName}` },\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatter1: val => val\r\n\t\t}\r\n\t})\r\n})\r\n\r\n\r\n\r\nsoefinding.onRegionChange = function () {\r\n\r\n\tconst regionInfos = document.querySelectorAll(\"div.region-info\")\r\n\r\n\t// set the data series in the vue apps, for the current region\r\n\tif (this.state.currentRegionName != \"Queensland\")\r\n\t\tthis.state.chart1.series = this.findingContent[this.state.currentRegionName].app1;\r\n\r\n\tsoefinding.loadFindingHtml()\r\n}\r\n\r\n"],"mappings":"aAEA,WAAW,QAAU,aAGrB,SAAS,iBAAiB,mBAAoB,UAAY,CAEzD,KAAM,UAAW,WAAW,YAAY,KAAK,OAAO,MAAM,GAG1D,OAAO,KAAK,cAAc,QAAQ,SAAU,IAAK,CAChD,KAAM,YAAa,WAAW,YAAY,KAAK,KAAK,GAAK,EAAE,MAAQ,KAAO,EAAE,SAAW,UACvF,KAAM,mBAAoB,WAAW,YAAY,KAAK,KAAK,GAAK,EAAE,MAAQ,KAAO,EAAE,SAAW,kBAE9F,KAAM,QAAS,CAAC,CACf,KAAM,SACN,KAAM,SAAS,IAAI,GAAK,WAAW,KAEpC,CACC,KAAM,iBACN,KAAM,SAAS,IAAI,GAAK,kBAAkB,MAG3C,WAAW,eAAe,KAAO,CAChC,KAAM,GACN,KAAM,UAGR,WAAW,eAAe,WAAa,CAAC,KAAM,IAG9C,KAAM,UAAW,WAAW,6BAC5B,SAAS,OAAS,CAAE,MAAO,KAC3B,SAAS,QAAQ,KAAO,EACxB,SAAS,MAAM,WAAa,SAC5B,SAAS,MAAM,MAAM,KAAO,OAC5B,SAAS,MAAM,MAAM,KAAO,gCAC5B,SAAS,MAAM,OAAO,UAAY,KAAO,KAAK,MAAM,KACpD,SAAS,QAAQ,EAAI,CAAE,UAAW,KAAO,KAAO,KAAO,MAAQ,IAAI,QAAQ,IAE3E,WAAW,MAAM,OAAS,CACzB,OAAQ,WAAW,eAAe,WAAW,MAAM,mBACnD,QAAS,SACT,YAAa,MAId,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,UAAW,CAAE,MAAO,0CAA0C,KAAK,sBAE9E,QAAS,CACR,WAAY,KAAO,SAOtB,WAAW,eAAiB,UAAY,CAEvC,KAAM,aAAc,SAAS,iBAAiB,mBAG9C,GAAI,KAAK,MAAM,mBAAqB,aACnC,KAAK,MAAM,OAAO,OAAS,KAAK,eAAe,KAAK,MAAM,mBAAmB,KAE9E,WAAW","names":[]}
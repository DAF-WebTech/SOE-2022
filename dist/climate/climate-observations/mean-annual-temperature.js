"use strict";var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:true});soefinding.regions=pinLocations;document.addEventListener("DOMContentLoaded",function(){const yearKeys=soefinding.findingJson.meta.fields.slice(2);const latestYear=yearKeys[yearKeys.length-1];const qldMeanAnomalyItem=soefinding.findingJson.data.find(d=>d.Name=="Queensland"&&d.Measure=="Mean anomaly (Base 1961-1990)");const qldMeanAnomalySeries=[{name:"Temperature anomaly",data:yearKeys.map(y=>qldMeanAnomalyItem[y])}];soefinding.findingContent.Queensland={html:"",app1:qldMeanAnomalySeries};const options1=soefinding.getDefaultBarChartOptions();options1.xaxis.categories=yearKeys;options1.xaxis.title.text="Year";options1.yaxis.title.text="Temperature anomaly (degrees celsius)";options1.tooltip.y={formatter:val=>val>=0?val:`-${Math.abs(val)}`};soefinding.state.chart1={options:options1,series:soefinding.findingContent.Queensland.app1,chartactive:true};const qldMeanItem=soefinding.findingJson.data.find(d=>d.Name=="Queensland"&&d.Measure=="Actual mean");const qldMeanSeries=[{name:"Actual Mean",data:yearKeys.map(y=>qldMeanItem[y])},{name:"10-year moving average",data:yearKeys.map((y,i)=>getTenYearMovingAverage(i))}];soefinding.findingContent.Queensland.app2=qldMeanSeries;function getTenYearMovingAverage(index){if(index<9)return null;const values=yearKeys.slice(index-9,index+1);if(values.every(v=>qldMeanItem[v]!=null)){const sum=values.reduce(function(acc,curr){return acc+qldMeanItem[curr]},0);return sum/10}else return null}__name(getTenYearMovingAverage,"getTenYearMovingAverage");const options2=soefinding.getDefaultLineChartOptions();options2.stroke={width:1.5};options2.markers.size=0;options2.xaxis.categories=yearKeys;options2.xaxis.title.text="Year";options2.yaxis.title.text="Temperature (degrees celsius)";options2.yaxis.labels.formatter=val=>Math.round(val);options2.tooltip.y={formatter:val=>val==null?"n/a":val.toFixed(2)};soefinding.state.chart2={options:options2,series:soefinding.findingContent.Queensland.app2,chartactive:true};Object.keys(pinLocations).forEach(function(loc){const meanItem=soefinding.findingJson.data.find(d=>d.Name==loc&&d.Measure=="Actual mean");const tenYearMeanItem=soefinding.findingJson.data.find(d=>d.Name==loc&&d.Measure=="Moving average mean");const meanSeries=[{name:"Actual Mean",data:yearKeys.map(y=>meanItem[y])},{name:"10-year moving average",data:yearKeys.map(y=>tenYearMeanItem[y])}];soefinding.findingContent[loc]={html:"",app2:meanSeries}});new Vue({el:"#chartContainer",data:soefinding.state,computed:{heading1:()=>`Annual mean temperature anomaly, base ${yearKeys[0]}\u2013${latestYear}`,heading2:()=>`Trend in annual mean temperature, ${soefinding.state.currentRegionName}`},methods:{formatter1:val=>val>=0?val.toFixed(2):`-${Math.abs(val).toFixed(2)}`,formatter2:val=>val?.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})??""}})});soefinding.onRegionChange=function(){const regionInfos=document.querySelectorAll("div.region-info");if(this.state.currentRegionName=="Queensland"){regionInfos[0].style.display="block"}else{regionInfos[0].style.display="none";this.state.chart2.series=this.findingContent[this.state.currentRegionName].app2}soefinding.loadFindingHtml()};
//# sourceMappingURL=mean-annual-temperature.js.map
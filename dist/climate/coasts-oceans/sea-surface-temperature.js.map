{"version":3,"sources":["../../../src/climate/coasts-oceans/sea-surface-temperature.js"],"sourcesContent":["\"use strict\"\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\n\tconst locations = [\"Coral Sea\", \"Northern Tropics\"]\r\n\r\n\tconst options1 = soefinding.getDefaultBarChartOptions()\r\n\toptions1.forceNiceScale = false\r\n\toptions1.xaxis.title.text = \"Year\"\r\n\toptions1.xaxis.labels.rotateAlways = false\r\n\toptions1.xaxis.labels.hideOverlappingLabels = true\r\n\toptions1.yaxis.title.text = \"Temperature change (degrees celsius)\"\r\n\toptions1.yaxis.tickAmount = 4\r\n\toptions1.yaxis.min = -1\r\n\toptions1.yaxis.max = 1\r\n\toptions1.yaxis.labels.formatter = val => val < 0 ? `−${Math.abs(val).toFixed(1)}` : val.toFixed(1)\r\n\toptions1.grid = { xaxis: { lines: { show: true } } }\r\n\toptions1.tooltip.y = {\r\n\t\tformatter: val => val < 0 ? `−${Math.abs(val)}` : val\r\n\t}\r\n\r\n\tconst options2 = JSON.parse(JSON.stringify(options1))\r\n\toptions2.yaxis.tickAmount = 6\r\n\toptions2.yaxis.min = -0.6\r\n\toptions2.yaxis.max = 0.6\r\n\toptions2.yaxis.labels.formatter = options1.yaxis.labels.formatter\r\n\toptions2.tooltip.y.formatter = options1.tooltip.y.formatter\r\n\toptions2.yaxis.forceNiceScale = false\r\n\r\n\tlocations.forEach((loc, i) => {\r\n\r\n\t\t// chart 1, column, Annual mean sea surface temperature anomaly\r\n\t\tconst anomalyItems = soefinding.findingJson.data.filter(d => d.Location == loc)\r\n\t\tconst anomalyYears = []\r\n\t\tconst anomalySeries = [{\r\n\t\t\tname: \"Temperature anomaly\",\r\n\t\t\tdata: anomalyItems.map(d => {\r\n\t\t\t\tanomalyYears.push(d.Year) // side effect\r\n\t\t\t\treturn d[\"Annual sea surface temperature anomaly\"]\r\n\t\t\t})\r\n\t\t}]\r\n\r\n\t\toptions1.xaxis.categories = anomalyYears\r\n\r\n\t\tsoefinding.state[`chart${i * 2 + 1}`] = {\r\n\t\t\toptions: options1,\r\n\t\t\tseries: anomalySeries,\r\n\t\t\tchartactive: true,\r\n\t\t};\r\n\r\n\t\t//chart 2, column, Annual mean sea surface temperature 10-year rolling average\r\n\t\tconst annualMeanItems = anomalyItems.filter(d => d[\"Ten year rolling average\"] != null)\r\n\t\tconst annualMeanYears = []\r\n\t\tconst annualMeanSeries = [{\r\n\t\t\tname: \"Ten-year rolling average\",\r\n\t\t\tdata: annualMeanItems.map(d => {\r\n\t\t\t\tannualMeanYears.push(d.Year) // side effect\r\n\t\t\t\treturn d[\"Ten year rolling average\"]\r\n\t\t\t})\r\n\t\t}]\r\n\r\n\t\toptions2.xaxis.categories = annualMeanYears\r\n\r\n\t\tsoefinding.state[`chart${i * 2 + 2}`] = {\r\n\t\t\toptions: options2,\r\n\t\t\tseries: annualMeanSeries,\r\n\t\t\tchartactive: true,\r\n\t\t};\r\n\r\n\t})\r\n\r\n\tnew Vue({\r\n\t\tel: \"#chartContainer\",\r\n\t\tdata: soefinding.state,\r\n\t\tcomputed: {\r\n\t\t\theading1: function () { return `${locations[0]} — Annual mean sea surface temperature anomaly` },\r\n\t\t\theading2: function () { return `${locations[0]} — Annual mean sea surface temperature 10-year rolling average` },\r\n\t\t\theading3: function () { return `${locations[1]} — Annual mean sea surface temperature anomaly` },\r\n\t\t\theading4: function () { return `${locations[1]} — Annual mean sea surface temperature 10-year rolling average` },\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatter1: val => val < 0 ? `−${Math.abs(val).toFixed(2)}` : val.toFixed(2),\r\n\t\t\tformatter2: val => val < 0 ? `−${Math.abs(val).toFixed(3)}` : val.toFixed(3)\r\n\t\t}\r\n\t});\r\n})\r\n"],"mappings":"aAEA,SAAS,iBAAiB,mBAAoB,UAAY,CAEzD,GAAM,GAAY,CAAC,YAAa,oBAE1B,EAAW,WAAW,4BAC5B,EAAS,eAAiB,GAC1B,EAAS,MAAM,MAAM,KAAO,OAC5B,EAAS,MAAM,OAAO,aAAe,GACrC,EAAS,MAAM,OAAO,sBAAwB,GAC9C,EAAS,MAAM,MAAM,KAAO,uCAC5B,EAAS,MAAM,WAAa,EAC5B,EAAS,MAAM,IAAM,GACrB,EAAS,MAAM,IAAM,EACrB,EAAS,MAAM,OAAO,UAAY,GAAO,EAAM,EAAI,SAAI,KAAK,IAAI,GAAK,QAAQ,KAAO,EAAI,QAAQ,GAChG,EAAS,KAAO,CAAE,MAAO,CAAE,MAAO,CAAE,KAAM,MAC1C,EAAS,QAAQ,EAAI,CACpB,UAAW,GAAO,EAAM,EAAI,SAAI,KAAK,IAAI,KAAS,GAGnD,GAAM,GAAW,KAAK,MAAM,KAAK,UAAU,IAC3C,EAAS,MAAM,WAAa,EAC5B,EAAS,MAAM,IAAM,IACrB,EAAS,MAAM,IAAM,GACrB,EAAS,MAAM,OAAO,UAAY,EAAS,MAAM,OAAO,UACxD,EAAS,QAAQ,EAAE,UAAY,EAAS,QAAQ,EAAE,UAClD,EAAS,MAAM,eAAiB,GAEhC,EAAU,QAAQ,CAAC,EAAK,IAAM,CAG7B,GAAM,GAAe,WAAW,YAAY,KAAK,OAAO,GAAK,EAAE,UAAY,GACrE,EAAe,GACf,EAAgB,CAAC,CACtB,KAAM,sBACN,KAAM,EAAa,IAAI,GACtB,GAAa,KAAK,EAAE,MACb,EAAE,8CAIX,EAAS,MAAM,WAAa,EAE5B,WAAW,MAAM,QAAQ,EAAI,EAAI,KAAO,CACvC,QAAS,EACT,OAAQ,EACR,YAAa,IAId,GAAM,GAAkB,EAAa,OAAO,GAAK,EAAE,6BAA+B,MAC5E,EAAkB,GAClB,EAAmB,CAAC,CACzB,KAAM,2BACN,KAAM,EAAgB,IAAI,GACzB,GAAgB,KAAK,EAAE,MAChB,EAAE,gCAIX,EAAS,MAAM,WAAa,EAE5B,WAAW,MAAM,QAAQ,EAAI,EAAI,KAAO,CACvC,QAAS,EACT,OAAQ,EACR,YAAa,MAKf,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,UAAY,CAAE,MAAO,GAAG,EAAU,yDAC5C,SAAU,UAAY,CAAE,MAAO,GAAG,EAAU,yEAC5C,SAAU,UAAY,CAAE,MAAO,GAAG,EAAU,yDAC5C,SAAU,UAAY,CAAE,MAAO,GAAG,EAAU,0EAE7C,QAAS,CACR,WAAY,GAAO,EAAM,EAAI,SAAI,KAAK,IAAI,GAAK,QAAQ,KAAO,EAAI,QAAQ,GAC1E,WAAY,GAAO,EAAM,EAAI,SAAI,KAAK,IAAI,GAAK,QAAQ,KAAO,EAAI,QAAQ","names":[]}
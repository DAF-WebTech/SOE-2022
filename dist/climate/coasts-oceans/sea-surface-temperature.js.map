{"version":3,"sources":["../../../src/climate/coasts-oceans/sea-surface-temperature.js"],"sourcesContent":["\"use strict\"\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\n\tconst locations = [\"Coral Sea\", \"Northern Tropics\"]\r\n\r\n\tconst options1 = soefinding.getDefaultBarChartOptions()\r\n\toptions1.forceNiceScale = false\r\n\toptions1.xaxis.title.text = \"Year\"\r\n\toptions1.xaxis.labels.rotateAlways = false\r\n\toptions1.xaxis.labels.hideOverlappingLabels = true\r\n\toptions1.yaxis.title.text = \"Temperature change (degrees celsius)\"\r\n\toptions1.yaxis.tickAmount = 4\r\n\toptions1.yaxis.min = -1\r\n\toptions1.yaxis.max = 1\r\n\toptions1.yaxis.labels.formatter = val => val < 0 ? `−${Math.abs(val).toFixed(1)}` : val.toFixed(1)\r\n\toptions1.grid = { xaxis: { lines: { show: true } } }\r\n\toptions1.tooltip.y = {\r\n\t\tformatter: val => val < 0 ? `−${Math.abs(val)}` : val\r\n\t}\r\n\r\n\tconst options2 = JSON.parse(JSON.stringify(options1))\r\n\toptions2.yaxis.tickAmount = 6\r\n\toptions2.yaxis.min = -0.6\r\n\toptions2.yaxis.max = 0.6\r\n\toptions2.yaxis.labels.formatter = options1.yaxis.labels.formatter\r\n\toptions2.tooltip.y.formatter = options1.tooltip.y.formatter\r\n\toptions2.yaxis.forceNiceScale = false\r\n\r\n\tlocations.forEach((loc, i) => {\r\n\r\n\t\t// chart 1, column, Annual mean sea surface temperature anomaly\r\n\t\tconst anomalyItems = soefinding.findingJson.data.filter(d => d.Location == loc)\r\n\t\tconst anomalyYears = []\r\n\t\tconst anomalySeries = [{\r\n\t\t\tname: \"Temperature anomaly\",\r\n\t\t\tdata: anomalyItems.map(d => {\r\n\t\t\t\tanomalyYears.push(d.Year) // side effect\r\n\t\t\t\treturn d[\"Annual sea surface temperature anomaly\"]\r\n\t\t\t})\r\n\t\t}]\r\n\r\n\t\toptions1.xaxis.categories = anomalyYears\r\n\r\n\t\tsoefinding.state[`chart${i * 2 + 1}`] = {\r\n\t\t\toptions: options1,\r\n\t\t\tseries: anomalySeries,\r\n\t\t\tchartactive: true,\r\n\t\t};\r\n\r\n\t\t//chart 2, column, Annual mean sea surface temperature 10-year rolling average\r\n\t\tconst annualMeanItems = anomalyItems.filter(d => d[\"Ten year rolling average\"] != null)\r\n\t\tconst annualMeanYears = []\r\n\t\tconst annualMeanSeries = [{\r\n\t\t\tname: \"Ten-year rolling average\",\r\n\t\t\tdata: annualMeanItems.map(d => {\r\n\t\t\t\tannualMeanYears.push(d.Year) // side effect\r\n\t\t\t\treturn d[\"Ten year rolling average\"]\r\n\t\t\t})\r\n\t\t}]\r\n\r\n\t\toptions2.xaxis.categories = annualMeanYears\r\n\r\n\t\tsoefinding.state[`chart${i * 2 + 2}`] = {\r\n\t\t\toptions: options2,\r\n\t\t\tseries: annualMeanSeries,\r\n\t\t\tchartactive: true,\r\n\t\t};\r\n\r\n\t})\r\n\r\n\tnew Vue({\r\n\t\tel: \"#chartContainer\",\r\n\t\tdata: soefinding.state,\r\n\t\tcomputed: {\r\n\t\t\theading1: function () { return `${locations[0]} — Annual mean sea surface temperature anomaly` },\r\n\t\t\theading2: function () { return `${locations[0]} — Annual mean sea surface temperature 10-year rolling average` },\r\n\t\t\theading3: function () { return `${locations[1]} — Annual mean sea surface temperature anomaly` },\r\n\t\t\theading4: function () { return `${locations[1]} — Annual mean sea surface temperature 10-year rolling average` },\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatter1: val => val < 0 ? `−${Math.abs(val).toFixed(2)}` : val.toFixed(2),\r\n\t\t\tformatter2: val => val < 0 ? `−${Math.abs(val).toFixed(3)}` : val.toFixed(3)\r\n\t\t}\r\n\t});\r\n})\r\n"],"mappings":"aAEA,SAAS,iBAAiB,mBAAoB,UAAY,CAEzD,KAAM,WAAY,CAAC,YAAa,oBAEhC,KAAM,UAAW,WAAW,4BAC5B,SAAS,eAAiB,MAC1B,SAAS,MAAM,MAAM,KAAO,OAC5B,SAAS,MAAM,OAAO,aAAe,MACrC,SAAS,MAAM,OAAO,sBAAwB,KAC9C,SAAS,MAAM,MAAM,KAAO,uCAC5B,SAAS,MAAM,WAAa,EAC5B,SAAS,MAAM,IAAM,GACrB,SAAS,MAAM,IAAM,EACrB,SAAS,MAAM,OAAO,UAAY,KAAO,IAAM,EAAI,SAAI,KAAK,IAAI,KAAK,QAAQ,KAAO,IAAI,QAAQ,GAChG,SAAS,KAAO,CAAE,MAAO,CAAE,MAAO,CAAE,KAAM,QAC1C,SAAS,QAAQ,EAAI,CACpB,UAAW,KAAO,IAAM,EAAI,SAAI,KAAK,IAAI,OAAS,KAGnD,KAAM,UAAW,KAAK,MAAM,KAAK,UAAU,WAC3C,SAAS,MAAM,WAAa,EAC5B,SAAS,MAAM,IAAM,IACrB,SAAS,MAAM,IAAM,GACrB,SAAS,MAAM,OAAO,UAAY,SAAS,MAAM,OAAO,UACxD,SAAS,QAAQ,EAAE,UAAY,SAAS,QAAQ,EAAE,UAClD,SAAS,MAAM,eAAiB,MAEhC,UAAU,QAAQ,CAAC,IAAK,IAAM,CAG7B,KAAM,cAAe,WAAW,YAAY,KAAK,OAAO,GAAK,EAAE,UAAY,KAC3E,KAAM,cAAe,GACrB,KAAM,eAAgB,CAAC,CACtB,KAAM,sBACN,KAAM,aAAa,IAAI,GAAK,CAC3B,aAAa,KAAK,EAAE,MACpB,MAAO,GAAE,8CAIX,SAAS,MAAM,WAAa,aAE5B,WAAW,MAAM,QAAQ,EAAI,EAAI,KAAO,CACvC,QAAS,SACT,OAAQ,cACR,YAAa,MAId,KAAM,iBAAkB,aAAa,OAAO,GAAK,EAAE,6BAA+B,MAClF,KAAM,iBAAkB,GACxB,KAAM,kBAAmB,CAAC,CACzB,KAAM,2BACN,KAAM,gBAAgB,IAAI,GAAK,CAC9B,gBAAgB,KAAK,EAAE,MACvB,MAAO,GAAE,gCAIX,SAAS,MAAM,WAAa,gBAE5B,WAAW,MAAM,QAAQ,EAAI,EAAI,KAAO,CACvC,QAAS,SACT,OAAQ,iBACR,YAAa,QAKf,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,UAAY,CAAE,MAAO,GAAG,UAAU,yDAC5C,SAAU,UAAY,CAAE,MAAO,GAAG,UAAU,yEAC5C,SAAU,UAAY,CAAE,MAAO,GAAG,UAAU,yDAC5C,SAAU,UAAY,CAAE,MAAO,GAAG,UAAU,0EAE7C,QAAS,CACR,WAAY,KAAO,IAAM,EAAI,SAAI,KAAK,IAAI,KAAK,QAAQ,KAAO,IAAI,QAAQ,GAC1E,WAAY,KAAO,IAAM,EAAI,SAAI,KAAK,IAAI,KAAK,QAAQ,KAAO,IAAI,QAAQ","names":[]}
{"version":3,"sources":["../../../src/climate/coasts-oceans/southern-oscillation-index.js"],"sourcesContent":["\"use strict\"\r\n// to get the date series on y working properly, we had to \r\n// use a different method of passing in data,\r\n// which affected the table render,\r\n// so we should make up a new component for this page,\r\n// on this page only.\r\n// to be done another time\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\n\tconst items = soefinding.findingJson.data\r\n\r\n\tconst series = [{\r\n\t\tname: \"Six month mean\",\r\n\t\tdata: items.map(d => {\r\n\t\t\treturn { x: `${d.Year}-${d.Month.toString().padStart(2, \"0\")}-01`, y: d[\"Six month mean\"] }\r\n\t\t})\r\n\t}]\r\n\r\n\tconst options = soefinding.getDefaultLineChartOptions()\r\n\toptions.chart.animations = {\r\n\t\tinitialAnimation: {\r\n\t\t\tenabled: false\r\n\t\t}\r\n\t}\r\n\toptions.tooltip.y = {\r\n\t\tformatter: val => val < 0 ? `−${Math.abs(val).toFixed(1)}` : val.toFixed(1)\r\n\t}\r\n\tdelete options.xaxis.categories\r\n\toptions.xaxis.title.text = \"Year\"\r\n\toptions.xaxis.type = \"datetime\"\r\n\toptions.yaxis.title.text = \"Index\"\r\n\toptions.yaxis.labels.formatter = val => val < 0 ? `−${Math.abs(val).toFixed(0)}` : val.toFixed(0)\r\n\toptions.stroke = {width: 1}\r\n\toptions.markers.size = 0\r\n\toptions.tooltip.x  = { format: 'MMMM yyyy' } \r\n\r\n// taking the last 600 data points because they can't all fit\r\n// also need to fix the table\r\nseries[0].data = series[0].data.slice(-600)\r\n\r\n\r\n\tsoefinding.state.chart1 = {\r\n\t\toptions: options,\r\n\t\tseries: series,\r\n\t\tchartactive: true,\r\n\t};\r\n\r\n\r\n\tnew Vue({\r\n\t\tel: \"#chartContainer\",\r\n\t\tdata: soefinding.state,\r\n\t\tcomputed: {\r\n\t\t\theading1: function () { return `Southern Oscillation Index 1876–2020` },\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatter1: val => val?.toFixed(2) ?? \"\"\r\n\t\t},\r\n\t});\r\n})\r\n"],"mappings":"aAOA,SAAS,iBAAiB,mBAAoB,UAAY,CAEzD,KAAM,OAAQ,WAAW,YAAY,KAErC,KAAM,QAAS,CAAC,CACf,KAAM,iBACN,KAAM,MAAM,IAAI,GAAK,CACpB,MAAO,CAAE,EAAG,GAAG,EAAE,QAAQ,EAAE,MAAM,WAAW,SAAS,EAAG,UAAW,EAAG,EAAE,uBAI1E,KAAM,SAAU,WAAW,6BAC3B,QAAQ,MAAM,WAAa,CAC1B,iBAAkB,CACjB,QAAS,QAGX,QAAQ,QAAQ,EAAI,CACnB,UAAW,KAAO,IAAM,EAAI,SAAI,KAAK,IAAI,KAAK,QAAQ,KAAO,IAAI,QAAQ,IAE1E,MAAO,SAAQ,MAAM,WACrB,QAAQ,MAAM,MAAM,KAAO,OAC3B,QAAQ,MAAM,KAAO,WACrB,QAAQ,MAAM,MAAM,KAAO,QAC3B,QAAQ,MAAM,OAAO,UAAY,KAAO,IAAM,EAAI,SAAI,KAAK,IAAI,KAAK,QAAQ,KAAO,IAAI,QAAQ,GAC/F,QAAQ,OAAS,CAAC,MAAO,GACzB,QAAQ,QAAQ,KAAO,EACvB,QAAQ,QAAQ,EAAK,CAAE,OAAQ,aAIhC,OAAO,GAAG,KAAO,OAAO,GAAG,KAAK,MAAM,MAGrC,WAAW,MAAM,OAAS,CACzB,QACA,OACA,YAAa,MAId,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,UAAY,CAAE,MAAO,8CAEhC,QAAS,CACR,WAAY,KAAO,KAAK,QAAQ,IAAM","names":[]}
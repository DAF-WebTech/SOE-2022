"use strict";document.addEventListener("DOMContentLoaded",function(){let i=soefinding.findingJson.meta.fields.slice(1),o=i[i.length-1];soefinding.findingJson.data.sort(function(e,n){return n[o]-e[o]});let a=soefinding.findingJson.data.map(e=>({name:e.Category,data:i.map(n=>e[n])})),t=soefinding.getDefaultStackedColumnChartOptions();t.legend.inverseOrder=!0,t.xaxis.categories=i,t.xaxis.title.text="Year",t.yaxis.title.text="Number of requests",t.yaxis.labels.formatter=e=>`${e/1e3}k`,t.tooltip.y={formatter:e=>e.toLocaleString()},soefinding.state.chart1={options:t,series:a,chartactive:!0};let r=soefinding.findingJson.data.map(e=>e[o]),s=soefinding.getDefaultPieChartOptions();s.labels=soefinding.findingJson.data.map(e=>e.Category),s.xaxis.categories=["Category","Searches"],s.tooltip={y:{formatter:(e,n)=>{let d=n.globals.seriesPercent[n.seriesIndex][0];return`${e.toLocaleString()} (${d.toFixed(1)}%)`}}},soefinding.state.chart2={options:s,series:r,chartactive:!0},soefinding.regionNames.forEach(e=>soefinding.findingContent[e]={}),new Vue({el:"#chartContainer",data:soefinding.state,computed:{heading1:()=>"Number of cultural heritage search requests, by category",heading2:()=>`Proportion of cultural heritage search requests by category, ${o}`},methods:{formatter1:e=>e.toLocaleString()}}),window.soefinding.onRegionChange=function(){soefinding.loadFindingHtml()}});
//# sourceMappingURL=search-requests.js.map
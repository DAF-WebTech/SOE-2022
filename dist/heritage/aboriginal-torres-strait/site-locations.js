"use strict";document.addEventListener("DOMContentLoaded",function(){let r=soefinding.findingJson.meta.fields.slice(2),o=r.at(-1),a=new Map,g=new Map;soefinding.regionNames.forEach(e=>a.set(e,[])),soefinding.findingJson.data.forEach(e=>{a.get(e.Region).push(e),g.has(e.Site)||g.set(e.Site,[]),g.get(e.Site).push(e)}),a.set("Queensland",[]);for(let[e,t]of g){let n={Region:"Queensland",Site:e};r.forEach(i=>n[i]=t.reduce((c,d)=>c+d[i],0)),a.get("Queensland").push(n)}for(let[e,t]of a)t.sort(function(n,i){return i[o]-n[o]}),soefinding.findingContent[e]={series1:t.map(n=>({name:n.Site,data:r.map(i=>n[i])})),series2:t.map(n=>{var i;return(i=n[o])!=null?i:0}),series2Labels:t.map(n=>n.Site)};let s=soefinding.getDefaultStackedColumnChartOptions();s.xaxis.title.text="Year",s.xaxis.categories=r,s.yaxis.title.text="Number of places",s.yaxis.labels.formatter=e=>e.toLocaleString(),s.yaxis.forceNiceScale=!1,soefinding.state.chart1={series:soefinding.findingContent[soefinding.state.currentRegionName].series1,options:s,chartactive:!0};let f=soefinding.getDefaultPieChartOptions();f.labels=soefinding.findingContent[soefinding.state.currentRegionName].series2Labels,f.tooltip.y={formatter:(e,t)=>{let n=t.globals.seriesPercent[t.seriesIndex][0];return`${e.toLocaleString()} ha (${n.toFixed(1)}%)`}},f.xaxis.categories=["Site","Number of locations"],soefinding.state.chart2={series:soefinding.findingContent[soefinding.state.currentRegionName].series2,options:f,chartactive:!0},new Vue({el:"#chartContainer",data:soefinding.state,computed:{heading1:function(){return this.currentRegionName=="Queensland"?"Change in number of locations, by site type":`Change in number of locations by site type in ${this.currentRegionName} cultural heritage region`},heading2:function(){return this.currentRegionName=="Queensland"?`Proportion of locations by site type, ${o}`:`Proportion of locations by site type in ${this.currentRegionName} cultural heritage region, ${o}`}},methods:{formatter1:e=>{var t;return(t=e==null?void 0:e.toLocaleString())!=null?t:""}}}),window.soefinding.onRegionChange=function(){soefinding.state.chart1.series=soefinding.findingContent[soefinding.state.currentRegionName].series1,soefinding.state.chart2.options.labels=soefinding.findingContent[soefinding.state.currentRegionName].series2Labels,soefinding.state.chart2.series=soefinding.findingContent[soefinding.state.currentRegionName].series2,soefinding.loadFindingHtml()}});
//# sourceMappingURL=site-locations.js.map
{"version":3,"sources":["../../../src/heritage/historic/heritage-places-destroyed.js"],"sourcesContent":["\"use strict\"\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\n\tconst years = soefinding.findingJson.meta.fields.slice(1)\r\n\tconst latestYear = years.at(-1)\r\n\r\n\t//will use for series 1\r\n\tconst yearsTotals = years.map(y=> 0)\r\n\tlet total = 0\r\n\r\n\tsoefinding.findingJson.data.forEach(d => {\r\n\t\t// create a total property for each lga\r\n\t\td.Total = years.reduce((accumulator, current) => {\r\n\t\t\treturn accumulator + d[current]\r\n\t\t}, 0)\r\n\r\n\t\t// get year totals for table 1\r\n\t\tyears.forEach((y, i) => {\r\n\t\t\tyearsTotals[i] += d[y]\r\n\t\t\ttotal += d[y]\r\n\t\t})\r\n\t\r\n\t})\r\n\r\n\t//sort\r\n\tsoefinding.findingJson.data.sort(function(a, b) {\r\n\t\treturn b.Total - a.Total\r\n\t})\t\r\n\r\n\r\n\t// series 1 table\r\n\tconst series1 = [...yearsTotals, total]\r\n\tconst options1 = { \r\n\t\tlabels: [...years, \"Total\"],\r\n\t\txaxis: { categories: [\"Year\", \"Places<br>removed\"] }\r\n\t}\r\n\r\n\tsoefinding.state.chart1 = {\r\n\t\toptions: options1,\r\n\t\tseries: series1,\r\n\t\tchartactive: false,\r\n\t}\r\n\r\n\r\n\t// series 2 pie chart\r\n\tconst series2items = soefinding.findingJson.data.filter(d => d.Total > 0)\r\n\tconst series2data = series2items.map(d => d.Total)\r\n\r\n\tconst options2 = soefinding.getDefaultPieChartOptions()\r\n\toptions2.labels = series2items.map(d => d.LGA)\r\n\toptions2.xaxis = { categories: [\"LGA\", \"Total\"] }\r\n\r\n\tsoefinding.state.chart2 = {\r\n\t\toptions: options2,\r\n\t\tseries: series2data,\r\n\t\tchartactive: true,\r\n\t};\r\n\r\n\r\n\t// series 3 table\r\n\tconst series3 = soefinding.findingJson.data.map(d => {\r\n\t\treturn {\r\n\t\t\tname: d.LGA,\r\n\t\t\tdata: [...years.map(y => d[y]), d.Total]\r\n\t\t}\r\n\t}) \r\n\r\n\tconst options3 = { \r\n\t\txaxis: { categories: [...years, \"Total\"] }\r\n\t}\r\n\r\n\tsoefinding.state.chart3 = {\r\n\t\toptions: options3,\r\n\t\tseries: series3,\r\n\t\tchartactive: false,\r\n\t};\r\n\r\n\r\n\r\n\tnew Vue({\r\n\t\tel: \"#chartContainer\",\r\n\t\tdata: soefinding.state,\r\n\t\tcomputed: {\r\n\t\t\theading1: () => `Total places removed, ${years[0]}–${latestYear}`,\r\n\t\t\theading2: () => `Proportion of places removed by Local Government Area (LGA), ${years[0]}–${latestYear}`,\r\n\t\t\theading3: () => `Places removed in each LGA, ${years[0]}–${latestYear}`\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatter1: val => val,\r\n\t\t}\r\n\t})\r\n\r\n})"],"mappings":"aACA,SAAS,iBAAiB,mBAAoB,UAAY,CAEzD,KAAM,OAAQ,WAAW,YAAY,KAAK,OAAO,MAAM,GACvD,KAAM,YAAa,MAAM,GAAG,IAG5B,KAAM,aAAc,MAAM,IAAI,GAAI,GAClC,GAAI,OAAQ,EAEZ,WAAW,YAAY,KAAK,QAAQ,GAAK,CAExC,EAAE,MAAQ,MAAM,OAAO,CAAC,YAAa,UAAY,CAChD,MAAO,aAAc,EAAE,UACrB,GAGH,MAAM,QAAQ,CAAC,EAAG,IAAM,CACvB,YAAY,IAAM,EAAE,GACpB,OAAS,EAAE,OAMb,WAAW,YAAY,KAAK,KAAK,SAAS,EAAG,EAAG,CAC/C,MAAO,GAAE,MAAQ,EAAE,QAKpB,KAAM,SAAU,CAAC,GAAG,YAAa,OACjC,KAAM,UAAW,CAChB,OAAQ,CAAC,GAAG,MAAO,SACnB,MAAO,CAAE,WAAY,CAAC,OAAQ,uBAG/B,WAAW,MAAM,OAAS,CACzB,QAAS,SACT,OAAQ,QACR,YAAa,OAKd,KAAM,cAAe,WAAW,YAAY,KAAK,OAAO,GAAK,EAAE,MAAQ,GACvE,KAAM,aAAc,aAAa,IAAI,GAAK,EAAE,OAE5C,KAAM,UAAW,WAAW,4BAC5B,SAAS,OAAS,aAAa,IAAI,GAAK,EAAE,KAC1C,SAAS,MAAQ,CAAE,WAAY,CAAC,MAAO,UAEvC,WAAW,MAAM,OAAS,CACzB,QAAS,SACT,OAAQ,YACR,YAAa,MAKd,KAAM,SAAU,WAAW,YAAY,KAAK,IAAI,GAAK,CACpD,MAAO,CACN,KAAM,EAAE,IACR,KAAM,CAAC,GAAG,MAAM,IAAI,GAAK,EAAE,IAAK,EAAE,UAIpC,KAAM,UAAW,CAChB,MAAO,CAAE,WAAY,CAAC,GAAG,MAAO,WAGjC,WAAW,MAAM,OAAS,CACzB,QAAS,SACT,OAAQ,QACR,YAAa,OAKd,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,IAAM,yBAAyB,MAAM,WAAM,aACrD,SAAU,IAAM,gEAAgE,MAAM,WAAM,aAC5F,SAAU,IAAM,+BAA+B,MAAM,WAAM,cAE5D,QAAS,CACR,WAAY,KAAO","names":[]}
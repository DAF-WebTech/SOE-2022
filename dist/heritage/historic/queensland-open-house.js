"use strict";soefinding.regions=pinLocations;document.addEventListener("DOMContentLoaded",function(){const years=[...new Set(soefinding.findingJson.data.map(d=>d.Year))];const locations=[...new Set(soefinding.findingJson.data.map(d=>d.Location))];const qldSeries1=locations.map(loc=>{const locationData=soefinding.findingJson.data.filter(d=>d.Location==loc);return{name:loc,data:years.map(y=>{const item=locationData.find(ld=>ld.Year==y);if(item&&item["Heritage places open"]=="No Data \u2013 event not held")return"No Data<br>event not held";else if(item)return item["Heritage places open"];else return""})}});const options1=soefinding.getDefaultStackedColumnChartOptions();options1.xaxis.categories=years;options1.xaxis.title.text="Year";options1.yaxis.title.text="Number of places";soefinding.state.chart1={options:options1,series:qldSeries1,chartactive:true};const qldSeries2=locations.map(loc=>{const locationData=soefinding.findingJson.data.filter(d=>d.Location==loc);return{name:loc,data:years.map(y=>{const item=locationData.find(ld=>ld.Year==y);if(item&&item.Visitors=="No Data \u2013 event not held")return"No Data<br>event not held";else if(item)return item.Visitors;else return""})}});const options2=JSON.parse(JSON.stringify(options1));options2.yaxis.title.text="Number of visitors";options2.yaxis.labels.formatter=val=>`${val/1e3}k`;options2.tooltip.y={formatter:val=>val.toLocaleString()};soefinding.state.chart2={options:options2,series:qldSeries2,chartactive:true};soefinding.findingContent.Queensland={html:""};qldSeries1.forEach(q=>{soefinding.findingContent[q.name]={app3:[{name:q.name,data:q.data,html:null}]};soefinding.findingContent[q.name].categories=[];const newData=[];soefinding.findingContent[q.name].app3[0].data.forEach((d,i)=>{if(d!=""){if(d=="No Data \u2013 event not held")newData.push(0);else newData.push(d);soefinding.findingContent[q.name].categories.push(years[i])}});soefinding.findingContent[q.name].app3[0].data=newData});const options3=JSON.parse(JSON.stringify(options1));options3.chart.id="chart3";soefinding.state.chart3={options:options3,chartactive:true,html:null};if(soefinding.state.currentRegionName=="Queensland")soefinding.state.chart3.series=soefinding.findingContent.Bundaberg.app3;else soefinding.state.chart3.series=soefinding.findingContent[soefinding.state.currentRegionName].app3;qldSeries2.forEach(q=>{soefinding.findingContent[q.name].app4=[{name:q.name,data:q.data}];soefinding.findingContent[q.name].categories=[];const newData=[];soefinding.findingContent[q.name].app4[0].data.forEach((d,i)=>{if(d!=""){if(d=="No Data \u2013 event not held")newData.push(0);else newData.push(d);soefinding.findingContent[q.name].categories.push(years[i])}});soefinding.findingContent[q.name].app4[0].data=newData});const options4=JSON.parse(JSON.stringify(options2));options4.chart.id="chart4";options4.yaxis.labels.formatter=options2.yaxis.labels.formatter;options4.tooltip.y=options2.tooltip.y;soefinding.state.chart4={options:options4,chartactive:true,html:null};if(soefinding.state.currentRegionName=="Queensland")soefinding.state.chart4.series=soefinding.findingContent.Bundaberg.app4;else soefinding.state.chart4.series=soefinding.findingContent[soefinding.state.currentRegionName].app4;new Vue({el:"#chartContainer",data:soefinding.state,computed:{heading1:()=>`Heritage places open in ${soefinding.state.currentRegionName}`,heading2:()=>`People visiting heritage places in ${soefinding.state.currentRegionName}`},methods:{formatter1:val=>val.toLocaleString(),formatter3:val=>val==0?"No Data \u2014 event not held":val.toLocaleString()}});window.soefinding.onRegionChange=function(){if(this.state.currentRegionName!="Queensland"){this.state.chart3.series=this.findingContent[this.state.currentRegionName].app3;soefinding.state.chart3.options.xaxis.categories=this.findingContent[this.state.currentRegionName].categories;ApexCharts.exec("chart3","updateOptions",{xaxis:{categories:this.findingContent[this.state.currentRegionName].categories}});this.state.chart4.series=this.findingContent[this.state.currentRegionName].app4;soefinding.state.chart4.options.xaxis.categories=this.findingContent[this.state.currentRegionName].categories;ApexCharts.exec("chart4","updateOptions",{xaxis:{categories:this.findingContent[this.state.currentRegionName].categories}})}soefinding.loadFindingHtml()}});
//# sourceMappingURL=queensland-open-house.js.map
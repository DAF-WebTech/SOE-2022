{"version":3,"sources":["../../../src/liveability/rural/change-available-soil.js"],"sourcesContent":["\"use strict\"\r\n\r\nconst originalNumberToLocaleString = Number.prototype.toLocaleString;\r\nNumber.prototype.toLocaleString = function (opts) {\r\n\tlet result = originalNumberToLocaleString.call(this, undefined, opts)\r\n\tresult = result.replace(\"-\", \"âˆ’\") // unicode minus sign\r\n\treturn result\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\n\tconst keys = soefinding.findingJson.meta.fields.slice(1)\r\n\r\n    soefinding.findingContent.Queensland = {app1: [{name: \"Change (ha)\", data: keys.map(k => 0)}]}\r\n\r\n\tsoefinding.findingJson.data.forEach(d => {\r\n\t\tsoefinding.findingContent[d.Region] = {app1: [ { name: \"Change (ha)\", data: keys.map((k, i) => {\r\n            //first a side effect, sum up for qld\r\n            soefinding.findingContent.Queensland.app1[0].data[i] += d[k]\r\n\t\t\treturn d[k]\r\n\t\t\t})}]\r\n\t\t}\r\n\t})\r\n\r\n\tconst options1 = soefinding.getDefaultColumnChartOptions();\r\n\toptions1.xaxis.categories = keys\r\n\tkeys[7] = [\"Water\", \"Wetlands\"]\r\n\toptions1.xaxis.title.text = \"Land use classification\"\r\n\toptions1.yaxis.title.text = \"Hectares\"\r\n\toptions1.yaxis.labels.formatter = val => val.toLocaleString()\r\n\r\n\tsoefinding.state.chart1 = {\r\n\t\toptions: options1,\r\n\t\tseries: soefinding.findingContent[soefinding.state.currentRegionName].app1,\r\n\t\tchartactive: true,\r\n\t};\r\n\r\n\t// these were given to me manually, are not in the data file\r\n\tconst baseYear = [159430.1909, 60492.80844, 1284568.803, 23188.99982, 15831.8042, 8126.537534, 76852.24199, 69056.69311, 32931.02996]\r\n\tconst series2 = JSON.parse(JSON.stringify(soefinding.findingContent.Queensland.app1))\r\n\tseries2[0].data = series2[0].data.map((d, i) => d / baseYear[i] * 100.0)\r\n\tseries2[0].name = \"Percent change\"\r\n\r\n\tconst options2 = JSON.parse(JSON.stringify(options1))\r\n\toptions2.yaxis.title.text = \"Percentage change in land classification\"\r\n\toptions2.yaxis.labels.formatter = val => val.toLocaleString()\r\n\r\n\tsoefinding.state.chart2 = {\r\n\t\toptions: options2,\r\n\t\tseries: series2,\r\n\t\tchartactive: true,\r\n\t};\r\n\r\n\r\n\tnew Vue({\r\n\t\tel: \"#chartContainer\",\r\n\t\tdata: soefinding.state,\r\n\t\tcomputed: {\r\n\t\t\theading1: () => `Change in available soil and land resources in ${soefinding.state.currentRegionName}`,\r\n\t\t\theading2: () => \"Percentage change in area between 1999 and 2019\"\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatter1: val => val == 0 ? 0 : val.toLocaleString({minimumFractionDigits: 2, maximumFractionDigits: 2})\r\n\t\t}\r\n\t});\r\n\r\n\r\n\twindow.soefinding.onRegionChange = function () {\r\n\t\t// set the data series in each of the vue apps, for the current region\r\n\t\tsoefinding.state.chart1.series =\r\n\t\t\tthis.findingContent[this.state.currentRegionName].app1;\r\n\t\tsoefinding.loadFindingHtml();\r\n\t}\r\n\r\n\r\n})"],"mappings":"aAEA,GAAM,8BAA+B,OAAO,UAAU,eACtD,OAAO,UAAU,eAAiB,SAAU,KAAM,CACjD,GAAI,QAAS,6BAA6B,KAAK,KAAM,OAAW,MAChE,OAAS,OAAO,QAAQ,IAAK,UAC7B,MAAO,SAGR,SAAS,iBAAiB,mBAAoB,UAAY,CAEzD,KAAM,MAAO,WAAW,YAAY,KAAK,OAAO,MAAM,GAEnD,WAAW,eAAe,WAAa,CAAC,KAAM,CAAC,CAAC,KAAM,cAAe,KAAM,KAAK,IAAI,GAAK,MAE5F,WAAW,YAAY,KAAK,QAAQ,GAAK,CACxC,WAAW,eAAe,EAAE,QAAU,CAAC,KAAM,CAAE,CAAE,KAAM,cAAe,KAAM,KAAK,IAAI,CAAC,EAAG,IAAM,CAErF,WAAW,eAAe,WAAW,KAAK,GAAG,KAAK,IAAM,EAAE,GACnE,MAAO,GAAE,UAKX,KAAM,UAAW,WAAW,+BAC5B,SAAS,MAAM,WAAa,KAC5B,KAAK,GAAK,CAAC,QAAS,YACpB,SAAS,MAAM,MAAM,KAAO,0BAC5B,SAAS,MAAM,MAAM,KAAO,WAC5B,SAAS,MAAM,OAAO,UAAY,KAAO,IAAI,iBAE7C,WAAW,MAAM,OAAS,CACzB,QAAS,SACT,OAAQ,WAAW,eAAe,WAAW,MAAM,mBAAmB,KACtE,YAAa,MAId,KAAM,UAAW,CAAC,YAAa,YAAa,cAAa,YAAa,WAAY,YAAa,YAAa,YAAa,aACzH,KAAM,SAAU,KAAK,MAAM,KAAK,UAAU,WAAW,eAAe,WAAW,OAC/E,QAAQ,GAAG,KAAO,QAAQ,GAAG,KAAK,IAAI,CAAC,EAAG,IAAM,EAAI,SAAS,GAAK,KAClE,QAAQ,GAAG,KAAO,iBAElB,KAAM,UAAW,KAAK,MAAM,KAAK,UAAU,WAC3C,SAAS,MAAM,MAAM,KAAO,2CAC5B,SAAS,MAAM,OAAO,UAAY,KAAO,IAAI,iBAE7C,WAAW,MAAM,OAAS,CACzB,QAAS,SACT,OAAQ,QACR,YAAa,MAId,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,IAAM,kDAAkD,WAAW,MAAM,oBACnF,SAAU,IAAM,mDAEjB,QAAS,CACR,WAAY,KAAO,KAAO,EAAI,EAAI,IAAI,eAAe,CAAC,sBAAuB,EAAG,sBAAuB,OAKzG,OAAO,WAAW,eAAiB,UAAY,CAE9C,WAAW,MAAM,OAAO,OACvB,KAAK,eAAe,KAAK,MAAM,mBAAmB,KACnD,WAAW","names":[]}
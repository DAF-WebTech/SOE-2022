{"version":3,"sources":["../../../src/liveability/rural/change-available-soil.js"],"sourcesContent":["\"use strict\"\r\n\r\nconst originalNumberToLocaleString = Number.prototype.toLocaleString;\r\nNumber.prototype.toLocaleString = function (opts) {\r\n\tlet result = originalNumberToLocaleString.call(this, undefined, opts)\r\n\tresult = result.replace(\"-\", \"âˆ’\") // unicode minus sign\r\n\treturn result\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\n\tconst keys = soefinding.findingJson.meta.fields.slice(1)\r\n\r\n    soefinding.findingContent.Queensland = {app1: [{name: \"Change (ha)\", data: keys.map(k => 0)}]}\r\n\r\n\tsoefinding.findingJson.data.forEach(d => {\r\n\t\tsoefinding.findingContent[d.Region] = {app1: [ { name: \"Change (ha)\", data: keys.map((k, i) => {\r\n            //first a side effect, sum up for qld\r\n            soefinding.findingContent.Queensland.app1[0].data[i] += d[k]\r\n\t\t\treturn d[k]\r\n\t\t\t})}]\r\n\t\t}\r\n\t})\r\n\r\n\tconst options1 = soefinding.getDefaultColumnChartOptions();\r\n\toptions1.xaxis.categories = keys\r\n\tkeys[7] = [\"Water\", \"Wetlands\"]\r\n\toptions1.xaxis.title.text = \"Land use classification\"\r\n\toptions1.yaxis.title.text = \"Hectares\"\r\n\toptions1.yaxis.labels.formatter = val => val.toLocaleString()\r\n\r\n\tsoefinding.state.chart1 = {\r\n\t\toptions: options1,\r\n\t\tseries: soefinding.findingContent[soefinding.state.currentRegionName].app1,\r\n\t\tchartactive: true,\r\n\t};\r\n\r\n\t// these were given to me manually, are not in the data file\r\n\tconst baseYear = [159430.1909, 60492.80844, 1284568.803, 23188.99982, 15831.8042, 8126.537534, 76852.24199, 69056.69311, 32931.02996]\r\n\tconst series2 = JSON.parse(JSON.stringify(soefinding.findingContent.Queensland.app1))\r\n\tseries2[0].data = series2[0].data.map((d, i) => d / baseYear[i] * 100.0)\r\n\tseries2[0].name = \"Percent change\"\r\n\r\n\tconst options2 = JSON.parse(JSON.stringify(options1))\r\n\toptions2.yaxis.title.text = \"Percentage change in land classification\"\r\n\toptions2.yaxis.labels.formatter = val => val.toLocaleString()\r\n\r\n\tsoefinding.state.chart2 = {\r\n\t\toptions: options2,\r\n\t\tseries: series2,\r\n\t\tchartactive: true,\r\n\t};\r\n\r\n\r\n\tnew Vue({\r\n\t\tel: \"#chartContainer\",\r\n\t\tdata: soefinding.state,\r\n\t\tcomputed: {\r\n\t\t\theading1: () => `Change in available soil and land resources in ${soefinding.state.currentRegionName}`,\r\n\t\t\theading2: () => \"Percentage change in area between 1999 and 2019\"\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatter1: val => val == 0 ? 0 : val.toLocaleString({minimumFractionDigits: 2, maximumFractionDigits: 2})\r\n\t\t}\r\n\t});\r\n\r\n\r\n\twindow.soefinding.onRegionChange = function () {\r\n\t\t// set the data series in each of the vue apps, for the current region\r\n\t\tsoefinding.state.chart1.series =\r\n\t\t\tthis.findingContent[this.state.currentRegionName].app1;\r\n\t\tsoefinding.loadFindingHtml();\r\n\t}\r\n\r\n\r\n})"],"mappings":"aAEA,GAAM,GAA+B,OAAO,UAAU,eACtD,OAAO,UAAU,eAAiB,SAAU,EAAM,CACjD,GAAI,GAAS,EAA6B,KAAK,KAAM,OAAW,GAChE,SAAS,EAAO,QAAQ,IAAK,UACtB,GAGR,SAAS,iBAAiB,mBAAoB,UAAY,CAEzD,GAAM,GAAO,WAAW,YAAY,KAAK,OAAO,MAAM,GAEnD,WAAW,eAAe,WAAa,CAAC,KAAM,CAAC,CAAC,KAAM,cAAe,KAAM,EAAK,IAAI,GAAK,MAE5F,WAAW,YAAY,KAAK,QAAQ,GAAK,CACxC,WAAW,eAAe,EAAE,QAAU,CAAC,KAAM,CAAE,CAAE,KAAM,cAAe,KAAM,EAAK,IAAI,CAAC,EAAG,IAE/E,YAAW,eAAe,WAAW,KAAK,GAAG,KAAK,IAAM,EAAE,GAC5D,EAAE,UAKX,GAAM,GAAW,WAAW,+BAC5B,EAAS,MAAM,WAAa,EAC5B,EAAK,GAAK,CAAC,QAAS,YACpB,EAAS,MAAM,MAAM,KAAO,0BAC5B,EAAS,MAAM,MAAM,KAAO,WAC5B,EAAS,MAAM,OAAO,UAAY,GAAO,EAAI,iBAE7C,WAAW,MAAM,OAAS,CACzB,QAAS,EACT,OAAQ,WAAW,eAAe,WAAW,MAAM,mBAAmB,KACtE,YAAa,IAId,GAAM,GAAW,CAAC,YAAa,YAAa,cAAa,YAAa,WAAY,YAAa,YAAa,YAAa,aACnH,EAAU,KAAK,MAAM,KAAK,UAAU,WAAW,eAAe,WAAW,OAC/E,EAAQ,GAAG,KAAO,EAAQ,GAAG,KAAK,IAAI,CAAC,EAAG,IAAM,EAAI,EAAS,GAAK,KAClE,EAAQ,GAAG,KAAO,iBAElB,GAAM,GAAW,KAAK,MAAM,KAAK,UAAU,IAC3C,EAAS,MAAM,MAAM,KAAO,2CAC5B,EAAS,MAAM,OAAO,UAAY,GAAO,EAAI,iBAE7C,WAAW,MAAM,OAAS,CACzB,QAAS,EACT,OAAQ,EACR,YAAa,IAId,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,IAAM,kDAAkD,WAAW,MAAM,oBACnF,SAAU,IAAM,mDAEjB,QAAS,CACR,WAAY,GAAO,GAAO,EAAI,EAAI,EAAI,eAAe,CAAC,sBAAuB,EAAG,sBAAuB,OAKzG,OAAO,WAAW,eAAiB,UAAY,CAE9C,WAAW,MAAM,OAAO,OACvB,KAAK,eAAe,KAAK,MAAM,mBAAmB,KACnD,WAAW","names":[]}
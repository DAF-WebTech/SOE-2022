"use strict";document.addEventListener("DOMContentLoaded",function(){let f=soefinding.findingJson.meta.fields.slice(3),c=new Map;soefinding.regionNames.forEach(e=>c.set(e,[])),soefinding.findingJson.data.forEach(e=>{e.Region=e.Region.replace(" NRM region",""),e.Region=e.Region.replace(" Wide",""),c.get(e.Region).push(e)});let p=c.get("Queensland").find(e=>e.Use=="total area mapped")["total area mapped"];soefinding.state.series4={};let i=soefinding.getDefaultStackedColumnChartOptions();i.chart.id="chart1",i.xaxis.title.text="Year",i.yaxis.title.text="Hectares",i.yaxis.labels.formatter=e=>e>=1e6?`${e/1e6}M`:e>=1e3?`${e/1e3}K`:e,i.yaxis.labels.minWidth=30,i.tooltip.y={formatter:e=>`${e.toLocaleString()} ha`};for(let[e,o]of c){soefinding.findingContent[e]={};let d=[];soefinding.findingContent[e].series1=o.filter(n=>n.Use!="total area mapped").map(n=>{let t=-1,s=0;return f.forEach((r,u)=>{t==-1&&n[r]!=null&&(t=u),n[r]!=null&&(s=u)}),d[0]=t,d[1]=s,soefinding.findingContent[e].series1categories=[f[t],f[s]],{name:n.Use,data:soefinding.findingContent[e].series1categories.map(r=>n[r])}}),soefinding.findingContent[e].series2LatestYear=soefinding.findingContent[e].series1categories[1],soefinding.findingContent[e].series2=o.filter(n=>n.Use!="total area mapped").map(n=>n[soefinding.findingContent[e].series2LatestYear]);let l=soefinding.findingContent[e].series2.reduce((n,t)=>n+t),m=o.find(n=>n.Use=="total area mapped")["total area mapped"]-l;if(soefinding.findingContent[e].series2.push(m),soefinding.findingContent[e].series3=[l,p-l],e!="Queensland"){let n=d.map(s=>f[s]),t=JSON.parse(JSON.stringify(i));t.yaxis.labels.formatter=i.yaxis.labels.formatter,t.tooltip.y.formatter=i.tooltip.y.formatter,t.xaxis.categories=n,soefinding.state.series4[e]={checked:!1,chartactive:!0,years:n,options:t,series:o.filter(s=>s.Use!="total area mapped").map(s=>({name:s.Use,data:n.map(r=>s[r])}))}}}soefinding.findingContent.Queensland.series3=[0,0],soefinding.state.series4["Burnett Mary"].checked=!0,i.xaxis.categories=soefinding.findingContent[soefinding.state.currentRegionName].series1categories,soefinding.state.chart1={series:soefinding.findingContent[soefinding.state.currentRegionName].series1,options:i,chartactive:!0};let a=soefinding.getDefaultPieChartOptions();a.chart.type="donut",a.labels=["Rural Land in Intensive Use","Rural Land in Extensive Use","Rural Land Not Settled","Non Rural area"],a.xaxis.categories=["Use",soefinding.findingContent[soefinding.state.currentRegionName].seriesLatestYear],a.tooltip={y:{formatter:(e,o)=>{let d=o.globals.seriesPercent[o.seriesIndex][0];return`${e.toLocaleString()} (${d.toFixed(1)}%)`}}},soefinding.state.chart2={series:soefinding.findingContent[soefinding.state.currentRegionName].series2,options:a,chartactive:!0};let g=soefinding.getDefaultPieChartOptions();g.chart.type="donut",g.labels=[soefinding.state.currentRegionName+" NRM Region","All Other Qld"],g.xaxis.categories=["Name","Value"],g.tooltip={y:{formatter:a.tooltip.y.formatter}},soefinding.state.chart3={series:soefinding.findingContent[soefinding.state.currentRegionName].series3,options:g,chartactive:!0},soefinding.vueApp=new Vue({el:"#chartContainer",data:soefinding.state,computed:{heading1:function(){let e=`Rural area growth between ${soefinding.findingContent[this.currentRegionName].series1categories[0]} and ${soefinding.findingContent[this.currentRegionName].series1categories[1]}`;return this.currentRegionName=="Queensland"?e+="*":e+=` in ${this.currentRegionName}`,e},heading2:function(){let e=`Proportion of rural and other areas as at ${soefinding.findingContent[this.currentRegionName].series2LatestYear}`;return this.currentRegionName=="Queensland"?e+="*":e+=` in ${this.currentRegionName}`,e},heading3:function(){return`Proportion of Queensland made up of rural areas in ${this.currentRegionName} NRM region in ${soefinding.findingContent[this.currentRegionName].series2LatestYear}`}},methods:{formatter1:e=>e.toLocaleString()}}),window.soefinding.onRegionChange=function(){soefinding.vueApp.chart1.options.xaxis.categories=soefinding.findingContent[soefinding.state.currentRegionName].series1categories,soefinding.vueApp.chart1.series=soefinding.findingContent[soefinding.state.currentRegionName].series1,soefinding.vueApp.chart2.options.xaxis.categories[1]=soefinding.findingContent[soefinding.state.currentRegionName].series2LatestYear,soefinding.vueApp.chart2.series=soefinding.findingContent[soefinding.state.currentRegionName].series2,soefinding.vueApp.chart3.options.labels[0]=soefinding.state.currentRegionName+" NRM Region",soefinding.vueApp.chart3.series=soefinding.findingContent[soefinding.state.currentRegionName].series3,soefinding.loadFindingHtml()}});
//# sourceMappingURL=change-rural-land.js.map
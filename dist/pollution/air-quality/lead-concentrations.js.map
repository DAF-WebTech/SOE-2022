{"version":3,"sources":["../../../src/pollution/air-quality/lead-concentrations.js"],"sourcesContent":["\"use strict\"\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\n\tsoefinding.fields = soefinding.findingJson.meta.fields.slice(2);\n\tconst names = [\n\t\t\t[\"SEQ\", \"major road\"], \n\t\t\t[\"SEQ\", \"suburban\"], \n\t\t\t[\"Mt Isa\", \"residential\"], \n\t\t\t[\"Townsville\", \"peak (industrial)\"],\n\t\t\t[\"NEPM\", \"Standard\"]\n\t]\n\n\t// chart 1. lead particles\n\tconst coSeries = soefinding.fields.map((f, i) => {\n\t\treturn {\n\t\t\tname: names[i],\n\t\t\tdata: soefinding.findingJson.data.map(d => {\n\t\t\t\treturn {\n\t\t\t\t\tx: `${d.Year}-${String(d.Month).padStart(2, \"0\")}`,\n\t\t\t\t\ty: d[f]\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t})\n\n\t// create the vue instance for first chart, our column chart\n\tconst options1 = soefinding.getDefaultLineChartOptions()\n\n\tdelete options1.markers\n\tdelete options1.xaxis.categories\n\n\toptions1.stroke = { width: 2 }\n\n\tconst months = [\"\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n\toptions1.tooltip.x = {\n\t\tformatter: function (val) {\n\t\t\tconst d = new Date(val)\n\t\t\treturn `${months[d.getMonth()]} ${d.getFullYear()}`\n\t\t}\n\t}\n\toptions1.tooltip.y = {\n\t\tformatter: function (val) {\n\t\t\treturn val ? `${val} µg/m³` : \"—\"\n\t\t}\n\t}\n\n\toptions1.xaxis.type = \"datetime\"\n\toptions1.xaxis.title.text = \"Month/Year\"\n\n\toptions1.yaxis.title.text = \"Lead concentrations (µg/m³)\"\n\toptions1.yaxis.forceNiceScale = false\n\toptions1.yaxis.min = 0\n\toptions1.yaxis.max = 3\n\toptions1.yaxis.tickAmount = 6\n\toptions1.yaxis.labels.formatter = val => val.toFixed(1) \n\n\n\n\n\tsoefinding.state.chart1 = {\n\t\toptions: options1,\n\t\tseries: coSeries,\n\t\tchartactive: true,\n\t};\n\n\n\tnew Vue({\n\t\tel: \"#chartContainer\",\n\t\tdata: soefinding.state,\n\t\tcomputed: {\n\t\t\theading1: function () { return `Trend in annual average lead concentrations (µg/m³)` },\n\n\t\t},\n\t\tmethods: {\n\t\t\tformatter1: function (val) { return val?.toLocaleString(undefined, { minimumFractionDigits: 3 }) ?? \"\" }\n\t\t}\n\t})\n})\n"],"mappings":"aAEA,SAAS,iBAAiB,mBAAoB,UAAY,CAEzD,WAAW,OAAS,WAAW,YAAY,KAAK,OAAO,MAAM,GAC7D,GAAM,GAAQ,CACZ,CAAC,MAAO,cACR,CAAC,MAAO,YACR,CAAC,SAAU,eACX,CAAC,aAAc,qBACf,CAAC,OAAQ,aAIL,EAAW,WAAW,OAAO,IAAI,CAAC,EAAG,IACnC,EACN,KAAM,EAAM,GACZ,KAAM,WAAW,YAAY,KAAK,IAAI,GAC9B,EACN,EAAG,GAAG,EAAE,QAAQ,OAAO,EAAE,OAAO,SAAS,EAAG,OAC5C,EAAG,EAAE,SAOH,EAAW,WAAW,6BAE5B,MAAO,GAAS,QAChB,MAAO,GAAS,MAAM,WAEtB,EAAS,OAAS,CAAE,MAAO,GAE3B,GAAM,GAAS,CAAC,GAAI,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACjG,EAAS,QAAQ,EAAI,CACpB,UAAW,SAAU,EAAK,CACzB,GAAM,GAAI,GAAI,MAAK,GACnB,MAAO,GAAG,EAAO,EAAE,eAAe,EAAE,kBAGtC,EAAS,QAAQ,EAAI,CACpB,UAAW,SAAU,EAAK,CACzB,MAAO,GAAM,GAAG,gBAAc,WAIhC,EAAS,MAAM,KAAO,WACtB,EAAS,MAAM,MAAM,KAAO,aAE5B,EAAS,MAAM,MAAM,KAAO,oCAC5B,EAAS,MAAM,eAAiB,GAChC,EAAS,MAAM,IAAM,EACrB,EAAS,MAAM,IAAM,EACrB,EAAS,MAAM,WAAa,EAC5B,EAAS,MAAM,OAAO,UAAY,GAAO,EAAI,QAAQ,GAKrD,WAAW,MAAM,OAAS,CACzB,QAAS,EACT,OAAQ,EACR,YAAa,IAId,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,UAAY,CAAE,MAAO,8DAGhC,QAAS,CACR,WAAY,SAAU,EAAK,CA3E9B,MA2EgC,MAAO,oBAAK,eAAe,OAAW,CAAE,sBAAuB,MAAxD,OAAgE","names":[]}
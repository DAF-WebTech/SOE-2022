"use strict";document.addEventListener("DOMContentLoaded",function(){soefinding.yearKeys=soefinding.findingJson.meta.fields.slice(1);let a=soefinding.findingJson.data.filter(t=>t["Emission type"]!="Volatile organic compounds");a=a.map(t=>({name:t["Emission type"],data:soefinding.yearKeys.map(n=>100/t[soefinding.yearKeys[0]]*t[n])})),a.sort(function(t,n){return n.data.at(-1)-t.data.at(-1)});let e=soefinding.getDefaultLineChartOptions();e.xaxis.categories=soefinding.yearKeys,e.xaxis.title.text="Year",e.yaxis.title.text="Percentage change",e.yaxis.tickAmount=4,e.yaxis.min=0,e.yaxis.max=400,e.tooltip.y={formatter:t=>`${t.toLocaleString(void 0,{minimumFractionDigits:2})}%`},e.yaxis.labels.formatter=t=>`${t}%`,soefinding.state.chart1={options:e,series:a,chartactive:!0};let s=soefinding.findingJson.data.map(t=>({name:t["Emission type"],data:soefinding.yearKeys.map(n=>t[n])}));s.sort(function(t,n){return n.data.at(-1)-t.data.at(-1)});let i=JSON.parse(JSON.stringify(e));delete i.yaxis.tickAmount,delete i.yaxis.min,delete i.yaxis.max,i.yaxis.title.text="Tonnes per annum",i.tooltip.y.formatter=t=>t?.toLocaleString(void 0,{minimumFractionDigits:3})??"",i.yaxis.labels.formatter=t=>t>=1e3?`${t/1e3}k`:t,soefinding.state.chart2={options:i,series:s,chartactive:!0},new Vue({el:"#chartContainer",data:soefinding.state,computed:{heading1:()=>"Percentage change trends in major air pollutant emissions since 2010",heading2:()=>"Trends in emissions for major air pollutants"},methods:{formatter1:t=>t?.toLocaleString()??"",formatter2:t=>t?.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})??""}})});
//# sourceMappingURL=major-air-pollutants.js.map
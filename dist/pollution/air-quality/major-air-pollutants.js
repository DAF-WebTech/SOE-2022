"use strict";document.addEventListener("DOMContentLoaded",function(){soefinding.yearKeys=soefinding.findingJson.meta.fields.slice(1);let a=soefinding.findingJson.data.filter(t=>t["Emission type"]!="Volatile organic compounds");a=a.map(t=>({name:t["Emission type"],data:soefinding.yearKeys.map(e=>100/t[soefinding.yearKeys[0]]*t[e])})),a.sort(function(t,e){return e.data.at(-1)-t.data.at(-1)});let i=soefinding.getDefaultLineChartOptions();i.xaxis.categories=soefinding.yearKeys,i.xaxis.title.text="Year",i.yaxis.title.text="Percentage change",i.yaxis.tickAmount=4,i.yaxis.min=0,i.yaxis.max=400,i.tooltip.y={formatter:t=>`${t.toLocaleString(void 0,{minimumFractionDigits:2})}%`},i.yaxis.labels.formatter=t=>`${t}%`,soefinding.state.chart1={options:i,series:a,chartactive:!0};let s=soefinding.findingJson.data.map(t=>({name:t["Emission type"],data:soefinding.yearKeys.map(e=>t[e])}));s.sort(function(t,e){return e.data.at(-1)-t.data.at(-1)});let n=JSON.parse(JSON.stringify(i));delete n.yaxis.tickAmount,delete n.yaxis.min,delete n.yaxis.max,n.yaxis.title.text="Tonnes per annum",n.tooltip.y.formatter=t=>{var e;return(e=t==null?void 0:t.toLocaleString(void 0,{minimumFractionDigits:3}))!=null?e:""},n.yaxis.labels.formatter=t=>t>=1e3?`${t/1e3}k`:t,soefinding.state.chart2={options:n,series:s,chartactive:!0},new Vue({el:"#chartContainer",data:soefinding.state,computed:{heading1:()=>"Percentage change trends in major air pollutant emissions since 2010",heading2:()=>"Trends in emissions for major air pollutants"},methods:{formatter1:t=>{var e;return(e=t==null?void 0:t.toLocaleString())!=null?e:""},formatter2:t=>{var e;return(e=t==null?void 0:t.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1}))!=null?e:""}}})});
//# sourceMappingURL=major-air-pollutants.js.map
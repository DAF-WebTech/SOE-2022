"use strict";document.addEventListener("DOMContentLoaded",function(){soefinding.yearKeys=soefinding.findingJson.meta.fields.slice(1);let percentSeries=soefinding.findingJson.data.filter(d=>d["Emission type"]!="Volatile organic compounds");percentSeries=percentSeries.map(d=>{return{name:d["Emission type"],data:soefinding.yearKeys.map(y=>{return 100/d[soefinding.yearKeys[0]]*d[y]})}});percentSeries.sort(function(a,b){return b.data.at(-1)-a.data.at(-1)});const options1=soefinding.getDefaultLineChartOptions();options1.xaxis.categories=soefinding.yearKeys;options1.xaxis.title.text="Year";options1.yaxis.title.text="Percentage change";options1.yaxis.tickAmount=4;options1.yaxis.min=0;options1.yaxis.max=400;options1.tooltip.y={formatter:val=>`${val.toLocaleString(void 0,{minimumFractionDigits:2})}%`};options1.yaxis.labels.formatter=val=>`${val}%`;soefinding.state.chart1={options:options1,series:percentSeries,chartactive:true};const trendSeries=soefinding.findingJson.data.map(d=>{return{name:d["Emission type"],data:soefinding.yearKeys.map(y=>d[y])}});trendSeries.sort(function(a,b){return b.data.at(-1)-a.data.at(-1)});const options2=JSON.parse(JSON.stringify(options1));delete options2.yaxis.tickAmount;delete options2.yaxis.min;delete options2.yaxis.max;options2.yaxis.title.text="Tonnes per annum";options2.tooltip.y.formatter=val=>val?.toLocaleString(void 0,{minimumFractionDigits:3})??"";options2.yaxis.labels.formatter=val=>val>=1e3?`${val/1e3}k`:val;soefinding.state.chart2={options:options2,series:trendSeries,chartactive:true};new Vue({el:"#chartContainer",data:soefinding.state,computed:{heading1:()=>"Percentage change trends in major air pollutant emissions since 2010",heading2:()=>"Trends in emissions for major air pollutants"},methods:{formatter1:val=>val?.toLocaleString()??"",formatter2:val=>val?.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})??""}})});
//# sourceMappingURL=major-air-pollutants.js.map
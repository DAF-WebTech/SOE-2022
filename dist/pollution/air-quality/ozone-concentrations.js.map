{"version":3,"sources":["../../../src/pollution/air-quality/ozone-concentrations.js"],"sourcesContent":["\"use strict\"\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\n\tsoefinding.yearKeys = soefinding.findingJson.meta.fields.slice(2);\n\n\t// chart 1. Exceedences\n\tconst exceedences = soefinding.findingJson.data.filter(d => {\n\t\treturn d.Measure == \"Exceedence\"\n\t})\n\tconst exceedenceSeries = exceedences.map(d => {\n\t\treturn {\n\t\t\tname: d.Airshed,\n\t\t\tdata: soefinding.yearKeys.map(y => d[y])\n\t\t}\n\t})\n\n\t// create the vue instance for first chart, our column chart\n\tconst options1 = soefinding.getDefaultBarChartOptions()\n\toptions1.xaxis.categories = soefinding.yearKeys\n\toptions1.xaxis.tickPlacement = \"between\"\n\toptions1.xaxis.title.text = \"Year\"\n\toptions1.yaxis.title.text = \"Number of Days\"\n\toptions1.yaxis.forceNiceScale = false\n\toptions1.yaxis.tickAmount = 3\n\toptions1.yaxis.min = 0\n\toptions1.yaxis.max = 3\n    options1.tooltip.y = {\n    \tformatter: function (val) {\n    \t\treturn `${val} day${val > 1 ? \"s\" : \"\"}`;\n        }\n    }\n    options1.yaxis.labels.formatter = function (val) {\n    \treturn val\n    }\t\n\n\tsoefinding.state.chart1 = {\n\t\toptions: options1,\n\t\tseries: exceedenceSeries,\n\t\tchartactive: true,\n\t};\n\n\n\t// chart 2, concentrations\n\tconst concentrations = soefinding.findingJson.data.filter(d => {\n\t\treturn d.Measure == \"Concentration\"\n\t})\n\tconst concentrationSeries = concentrations.map(d => {\n\t\treturn {\n\t\t\tname: d.Airshed,\n\t\t\tdata: soefinding.yearKeys.map(y => d[y])\n\t\t}\n\t})\n\n\t// create the vue instance for first chart, our column chart\n\tconst options2 = soefinding.getDefaultBarChartOptions()\n\toptions2.xaxis.categories = soefinding.yearKeys\n\toptions2.xaxis.title.text = \"Year\"\n\toptions2.xaxis.tickPlacement = \"between\"\n\toptions2.yaxis.title.text = \"Parts per million\"\n\toptions2.yaxis.forceNiceScale = false\n\toptions2.yaxis.max = 0.12\n\toptions2.yaxis.min = 0\n\toptions2.yaxis.tickAmount = 6\n\toptions2.yaxis.labels.formatter = val => val.toFixed(2)\n  options2.tooltip.y = { formatter: val=> `${val} ppm` }\n        \n    \n\n\tsoefinding.state.chart2 = {\n\t\toptions: options2,\n\t\tseries: concentrationSeries,\n\t\tchartactive: true,\n\t};\n\n\n\tnew Vue({\n\t\tel: \"#chartContainer\",\n\t\tdata: soefinding.state,\n\t\tcomputed: {\n\t\t\theading1: function () { return `Number of days when the 1-hour ozone concentrations exceed the Air NEPM standards` },\n\t\t\theading2: function () { return `Annual maximum 1-hour average ozone concentrations` },\n\t\t},\n\t\tmethods: {\n\t\t    formatter1: function(val) { return val },\n\t\t    formatter2: function(val) { return val?.toLocaleString(undefined, { minimumFractionDigits: 3 }) ?? \"\" }\n\t\t}\n\t});\n\n})\n"],"mappings":"aAEA,SAAS,iBAAiB,mBAAoB,UAAY,CAEzD,WAAW,SAAW,WAAW,YAAY,KAAK,OAAO,MAAM,GAG/D,KAAM,aAAc,WAAW,YAAY,KAAK,OAAO,GAAK,CAC3D,MAAO,GAAE,SAAW,eAErB,KAAM,kBAAmB,YAAY,IAAI,GAAK,CAC7C,MAAO,CACN,KAAM,EAAE,QACR,KAAM,WAAW,SAAS,IAAI,GAAK,EAAE,OAKvC,KAAM,UAAW,WAAW,4BAC5B,SAAS,MAAM,WAAa,WAAW,SACvC,SAAS,MAAM,cAAgB,UAC/B,SAAS,MAAM,MAAM,KAAO,OAC5B,SAAS,MAAM,MAAM,KAAO,iBAC5B,SAAS,MAAM,eAAiB,MAChC,SAAS,MAAM,WAAa,EAC5B,SAAS,MAAM,IAAM,EACrB,SAAS,MAAM,IAAM,EAClB,SAAS,QAAQ,EAAI,CACpB,UAAW,SAAU,IAAK,CACzB,MAAO,GAAG,UAAU,IAAM,EAAI,IAAM,OAGtC,SAAS,MAAM,OAAO,UAAY,SAAU,IAAK,CAChD,MAAO,MAGX,WAAW,MAAM,OAAS,CACzB,QAAS,SACT,OAAQ,iBACR,YAAa,MAKd,KAAM,gBAAiB,WAAW,YAAY,KAAK,OAAO,GAAK,CAC9D,MAAO,GAAE,SAAW,kBAErB,KAAM,qBAAsB,eAAe,IAAI,GAAK,CACnD,MAAO,CACN,KAAM,EAAE,QACR,KAAM,WAAW,SAAS,IAAI,GAAK,EAAE,OAKvC,KAAM,UAAW,WAAW,4BAC5B,SAAS,MAAM,WAAa,WAAW,SACvC,SAAS,MAAM,MAAM,KAAO,OAC5B,SAAS,MAAM,cAAgB,UAC/B,SAAS,MAAM,MAAM,KAAO,oBAC5B,SAAS,MAAM,eAAiB,MAChC,SAAS,MAAM,IAAM,IACrB,SAAS,MAAM,IAAM,EACrB,SAAS,MAAM,WAAa,EAC5B,SAAS,MAAM,OAAO,UAAY,KAAO,IAAI,QAAQ,GACpD,SAAS,QAAQ,EAAI,CAAE,UAAW,KAAM,GAAG,WAI5C,WAAW,MAAM,OAAS,CACzB,QAAS,SACT,OAAQ,oBACR,YAAa,MAId,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,UAAY,CAAE,MAAO,qFAC/B,SAAU,UAAY,CAAE,MAAO,uDAEhC,QAAS,CACL,WAAY,SAAS,IAAK,CAAE,MAAO,MACnC,WAAY,SAAS,IAAK,CAAE,MAAO,MAAK,eAAe,OAAW,CAAE,sBAAuB,KAAQ","names":[]}
{"version":3,"sources":["../../../src/pollution/air-quality/particulate-concentrations.js"],"sourcesContent":["\"use strict\"\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\n\tsoefinding.yearKeys = soefinding.findingJson.meta.fields.slice(2);\n\t\n\t//chart 1 24 hour PM10 concentrations exceeded (days)\n\tconst daysExceeded10 = soefinding.findingJson.data.filter(d => {\n\t\treturn d[\"Air quality standard\"] == \"24 hour PM10 concentrations exceeded (days)\"\n\t})\n\tconst daysExceeded10Series = daysExceeded10.map(d => {\n\t\treturn {\n\t\t\tname: d.Airshed,\n\t\t\tdata: soefinding.yearKeys.map(y => d[y])\n\t\t}\n\t})\n\n\tconst options1 = soefinding.getDefaultBarChartOptions()\n\toptions1.xaxis.categories = soefinding.yearKeys\n\toptions1.xaxis.title.text = \"Year\"\n\toptions1.xaxis.axisTicks = { show: false }\n\toptions1.xaxis.labels.rotateAlways = true\n\toptions1.yaxis.title.text = \"Number of days\"\n\toptions1.yaxis.forceNiceScale = false\n\toptions1.yaxis.min = 0\n\toptions1.yaxis.max = 40\n\toptions1.yaxis.tickAmount = 4\n\n\n\tsoefinding.state.chart1 = {\n\t\toptions: options1,\n\t\tseries: daysExceeded10Series,\n\t\tchartactive: true,\n\t};\n\n\t//chart 2 24 hour PM2.5 concentrations exceeded (days)\n\tconst daysExceeded25 = soefinding.findingJson.data.filter(d => {\n\t\treturn d[\"Air quality standard\"] == \"24 hour PM2.5 concentrations exceeded (days)\"\n\t})\n\tconst daysExceeded25Series = daysExceeded25.map(d => {\n\t\treturn {\n\t\t\tname: d.Airshed,\n\t\t\tdata: soefinding.yearKeys.map(y => d[y])\n\t\t}\n\t})\n\n\tconst options2 = JSON.parse(JSON.stringify(options1))\n\toptions2.yaxis.max = 30\n\toptions2.yaxis.tickAmount = 6\n\n\tsoefinding.state.chart2 = {\n\t\toptions: options2,\n\t\tseries: daysExceeded25Series,\n\t\tchartactive: true,\n\t};\n\n\n\t//chart 3 annual average PM10 \n\tconst concentrations10 = soefinding.findingJson.data.filter(d => {\n\t\treturn d[\"Air quality standard\"] == \"Annual average PM10 concentrations (micrograms/m3)\"\n\t})\n\tconst concentrations10Series = concentrations10.map(d => {\n\t\treturn {\n\t\t\tname: d.Airshed,\n\t\t\tdata: soefinding.yearKeys.map(y => d[y])\n\t\t}\n\t})\n\n\tconst options3 = JSON.parse(JSON.stringify(options1))\n\toptions3.yaxis.labels.formatter = val => val.toFixed(0)\n\toptions3.tooltip.y = {formatter: val => val }\n\n\tsoefinding.state.chart3 = {\n\t\toptions: options3,\n\t\tseries: concentrations10Series,\n\t\tchartactive: true,\n\t};\n\t\n\t\n\t//chart 4 annual average PM2.5\n\tconst concentrations25 = soefinding.findingJson.data.filter(d => {\n\t\treturn d[\"Air quality standard\"] == \"Annual average PM2.5 concentrations (micrograms/m3)\"\n\t})\n\tconst concentrations25Series = concentrations25.map(d => {\n\t\treturn {\n\t\t\tname: d.Airshed,\n\t\t\tdata: soefinding.yearKeys.map(y => d[y])\n\t\t}\n\t})\n\n\tconst options4 = JSON.parse(JSON.stringify(options1))\n\toptions4.yaxis.max = 10\n\toptions4.yaxis.tickAmount = 5\n\toptions4.yaxis.labels.formatter = val => val.toFixed(0)\n\toptions4.tooltip.y = {formatter: val => val }\n\n\tsoefinding.state.chart4 = {\n\t\toptions: options4,\n\t\tseries: concentrations25Series,\n\t\tchartactive: true,\n\t};\n\n\n\n\tnew Vue({\n\t\tel: \"#chartContainer\",\n\t\tdata: soefinding.state,\n\t\tcomputed: {\n\t\t\theading1: function () { return `Number of days when the 24-hour PM₁₀ concentrations exceeded the Air NEPM standards` },\n\t\t\theading2: function () { return `Number of days when the 24-hour PM₂.₅ concentrations exceeded the Air NEPM standards` },\n\t\t\theading3: function () { return `Annual average PM₁₀ concentrations (µg/m³)` },\n\t\t\theading4: function () { return `Annual average PM₂.₅ concentrations (µg/m³)` },\n\n\t\t},\n\t\tmethods: {\n\t\t\tformatter1: function (val) { return val?.toLocaleString() ?? \"\" },\n\t\t\tformatter2: function (val) { return val?.toLocaleString(undefined, { minimumFractionDigits: 1 }) ?? \"\" }\n\t\t}\n\t});\n\n\n\n})\n"],"mappings":"aAEA,SAAS,iBAAiB,mBAAoB,UAAY,CAEzD,WAAW,SAAW,WAAW,YAAY,KAAK,OAAO,MAAM,GAG/D,KAAM,gBAAiB,WAAW,YAAY,KAAK,OAAO,GAAK,CAC9D,MAAO,GAAE,yBAA2B,gDAErC,KAAM,sBAAuB,eAAe,IAAI,GAAK,CACpD,MAAO,CACN,KAAM,EAAE,QACR,KAAM,WAAW,SAAS,IAAI,GAAK,EAAE,OAIvC,KAAM,UAAW,WAAW,4BAC5B,SAAS,MAAM,WAAa,WAAW,SACvC,SAAS,MAAM,MAAM,KAAO,OAC5B,SAAS,MAAM,UAAY,CAAE,KAAM,OACnC,SAAS,MAAM,OAAO,aAAe,KACrC,SAAS,MAAM,MAAM,KAAO,iBAC5B,SAAS,MAAM,eAAiB,MAChC,SAAS,MAAM,IAAM,EACrB,SAAS,MAAM,IAAM,GACrB,SAAS,MAAM,WAAa,EAG5B,WAAW,MAAM,OAAS,CACzB,QAAS,SACT,OAAQ,qBACR,YAAa,MAId,KAAM,gBAAiB,WAAW,YAAY,KAAK,OAAO,GAAK,CAC9D,MAAO,GAAE,yBAA2B,iDAErC,KAAM,sBAAuB,eAAe,IAAI,GAAK,CACpD,MAAO,CACN,KAAM,EAAE,QACR,KAAM,WAAW,SAAS,IAAI,GAAK,EAAE,OAIvC,KAAM,UAAW,KAAK,MAAM,KAAK,UAAU,WAC3C,SAAS,MAAM,IAAM,GACrB,SAAS,MAAM,WAAa,EAE5B,WAAW,MAAM,OAAS,CACzB,QAAS,SACT,OAAQ,qBACR,YAAa,MAKd,KAAM,kBAAmB,WAAW,YAAY,KAAK,OAAO,GAAK,CAChE,MAAO,GAAE,yBAA2B,uDAErC,KAAM,wBAAyB,iBAAiB,IAAI,GAAK,CACxD,MAAO,CACN,KAAM,EAAE,QACR,KAAM,WAAW,SAAS,IAAI,GAAK,EAAE,OAIvC,KAAM,UAAW,KAAK,MAAM,KAAK,UAAU,WAC3C,SAAS,MAAM,OAAO,UAAY,KAAO,IAAI,QAAQ,GACrD,SAAS,QAAQ,EAAI,CAAC,UAAW,KAAO,KAExC,WAAW,MAAM,OAAS,CACzB,QAAS,SACT,OAAQ,uBACR,YAAa,MAKd,KAAM,kBAAmB,WAAW,YAAY,KAAK,OAAO,GAAK,CAChE,MAAO,GAAE,yBAA2B,wDAErC,KAAM,wBAAyB,iBAAiB,IAAI,GAAK,CACxD,MAAO,CACN,KAAM,EAAE,QACR,KAAM,WAAW,SAAS,IAAI,GAAK,EAAE,OAIvC,KAAM,UAAW,KAAK,MAAM,KAAK,UAAU,WAC3C,SAAS,MAAM,IAAM,GACrB,SAAS,MAAM,WAAa,EAC5B,SAAS,MAAM,OAAO,UAAY,KAAO,IAAI,QAAQ,GACrD,SAAS,QAAQ,EAAI,CAAC,UAAW,KAAO,KAExC,WAAW,MAAM,OAAS,CACzB,QAAS,SACT,OAAQ,uBACR,YAAa,MAKd,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,UAAY,CAAE,MAAO,iGAC/B,SAAU,UAAY,CAAE,MAAO,kGAC/B,SAAU,UAAY,CAAE,MAAO,8DAC/B,SAAU,UAAY,CAAE,MAAO,gEAGhC,QAAS,CACR,WAAY,SAAU,IAAK,CAAE,MAAO,MAAK,kBAAoB,IAC7D,WAAY,SAAU,IAAK,CAAE,MAAO,MAAK,eAAe,OAAW,CAAE,sBAAuB,KAAQ","names":[]}
{"version":3,"sources":["../../../src/pollution/air-quality/vehicle-emissions.js"],"sourcesContent":["\"use strict\"\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\n\t// sort data\n\tconst data = soefinding.findingJson.data.sort(function(a, b) {\n\t\treturn b[\"Tonnes per annum\"] - a[\"Tonnes per annum\"]\n\t})\n\n\t// chart 1. pie, emissions\n\tconst series = data.map(d => d[\"Tonnes per annum\"])\n\n\t// create the vue instance for first chart, our column chart\n\tconst options1 = soefinding.getDefaultPieChartOptions()\n\t// the pie charts uses labels, but the table vue is looking for categories\n\toptions1.labels = data.map(d => d[\"Emission type\"])\n\toptions1.tooltip = { y: { formatter: (val, options) => {\n\t\tconst percent = options.globals.seriesPercent[options.seriesIndex][0]\n\t\treturn `${val.toLocaleString()} (${percent.toFixed(1)}%)`\n\t}}}\n\toptions1.xaxis.categories = [\"Emission type\", \"Tonnes per annum\"] // not needed for chart, but vue uses them for table headings\n\n\tsoefinding.state.chart1 = {\n\t\toptions: options1,\n\t\tseries: series,\n\t\tchartactive: true,\n\t};\n\n\n\tnew Vue({\n\t\tel: \"#chartContainer\",\n\t\tdata: soefinding.state,\n\t\tcomputed: {\n\t\t\theading1: () => `Proportion of annual average vehicle emissions by type in 2010`,\n\t\t},\n\t\tmethods: {\n\t\t\tformatter1: val => val.toLocaleString() \n\t\t}\n\t})\n})\n"],"mappings":"aAEA,SAAS,iBAAiB,mBAAoB,UAAY,CAGzD,GAAM,GAAO,WAAW,YAAY,KAAK,KAAK,SAAS,EAAG,EAAG,CAC5D,MAAO,GAAE,oBAAsB,EAAE,sBAI5B,EAAS,EAAK,IAAI,GAAK,EAAE,qBAGzB,EAAW,WAAW,4BAE5B,EAAS,OAAS,EAAK,IAAI,GAAK,EAAE,kBAClC,EAAS,QAAU,CAAE,EAAG,CAAE,UAAW,CAAC,EAAK,IAAY,CACtD,GAAM,GAAU,EAAQ,QAAQ,cAAc,EAAQ,aAAa,GACnE,MAAO,GAAG,EAAI,qBAAqB,EAAQ,QAAQ,UAEpD,EAAS,MAAM,WAAa,CAAC,gBAAiB,oBAE9C,WAAW,MAAM,OAAS,CACzB,QAAS,EACT,OAAQ,EACR,YAAa,IAId,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,IAAM,kEAEjB,QAAS,CACR,WAAY,GAAO,EAAI","names":[]}
{"version":3,"sources":["../../../src/pollution/waste/commercial-industrial-recovered.js"],"sourcesContent":["\"use strict\"\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\n\tconst yearKeys = soefinding.findingJson.meta.fields.slice(1)\n\tconst latestYear = yearKeys[yearKeys.length - 1]\n\tconst lastFourYears = yearKeys.slice(yearKeys.length - 4)\n\n\t//1. column chart for qld for the last four years\n\tconst qldItem = soefinding.findingJson.data.find(d => d.Material == \"Total\")\n\tconst fourYearSeries = [{\n\t\tname: \"Total\",\n\t\tdata: lastFourYears.map(y => qldItem[y])\n\t}]\n\n\tconst options1 = soefinding.getDefaultBarChartOptions()\n\toptions1.xaxis.categories = lastFourYears.map(y => y.replace(\"-\", \"–\")) // ndash\n\toptions1.xaxis.title.text = \"Year\"\n\toptions1.yaxis.title.text = \"Tonnes (million)\"\n\toptions1.yaxis.labels.formatter = val => {\n\t\treturn `${(val / 1000000).toFixed(1)}M`\n\t}\n\toptions1.tooltip.y = {\n\t\tformatter: val => val.toLocaleString()\n\t}\n\n\toptions1.yaxis.tickAmount = 10\n\n\n\tsoefinding.state.chart1 = {\n\t\toptions: options1,\n\t\tseries: fourYearSeries,\n\t\tchartactive: true,\n\t}\n\n\n\t// 2. line chart for excluding green for all years\n\tconst excludingGreenItem = soefinding.findingJson.data.find(d => d.Material == \"Excluding green waste\")\n\tconst excludingGreenSeries = [{\n\t\tname: \"Excluding green waste\",\n\t\tdata: yearKeys.map(y => excludingGreenItem[y])\n\t}]\n\n\tconst options2 = soefinding.getDefaultLineChartOptions()\n\toptions2.xaxis.categories = yearKeys.map(y => [y.slice(0, 4) + \"–\", y.slice(5)]) // ndash\n\toptions2.xaxis.axisTicks = { show: false }\n\toptions2.xaxis.tickPlacement = \"between\"\n\toptions2.xaxis.title.text = \"Year\"\n\toptions2.yaxis.title.text = \"Tonnes (million)\"\n\toptions2.yaxis.labels.formatter = val => {\n\t\treturn `${(val / 1000000).toFixed(1)}M`\n\t}\n\toptions2.tooltip.y = {\n\t\tformatter: val => val.toLocaleString()\n\t}\n\n\tsoefinding.state.chart2 = {\n\t\toptions: options2,\n\t\tseries: excludingGreenSeries,\n\t\tchartactive: true,\n\t}\n\n\n\t//3. pie chart for all materials, latest Year\n\tconst regionItems = soefinding.findingJson.data.filter(d => d.Material != \"Total\" && d.Material != \"Excluding green waste\")\n\tregionItems.sort(function (a, b) {\n\t\treturn b[latestYear] - a[latestYear]\n\t})\n\tconst regionSeries = regionItems.map(d => d[latestYear])\n\n\tconst options3 = soefinding.getDefaultPieChartOptions()\n\toptions3.xaxis.categories = [\"Material\", \"Tonnes\"]\n\toptions3.labels = regionItems.map(d => d.Material)\n\toptions3.tooltip.y = {\n\t\tformatter: (val, options) => {\n\t\t\tconst percent = options.globals.seriesPercent[options.seriesIndex][0]\n\t\t\treturn `${val.toLocaleString()} (${percent.toFixed(1)}%)`\n\t\t}\n\t}\n\toptions3.colors = options3.colors.concat([\"#33b2df\", \"#546E7A\", \"#d4526e\", \"#13d8aa\", \"#A5978B\"])\n\n\tsoefinding.state.chart3 = {\n\t\toptions: options3,\n\t\tseries: regionSeries,\n\t\tchartactive: true,\n\t}\n\n\n\tnew Vue({\n\t\tel: \"#chartContainer\",\n\t\tdata: soefinding.state,\n\t\tcomputed: {\n\t\t\theading1: () => \"Commercial and industrial waste recovered\",\n\t\t\theading2: () => \"Trend in total commercial and industrial waste (excluding green waste) recovered\",\n\t\t\theading3: () => `Proportion of commercial and industrial waste recovered by materials, ${latestYear.replace(\"-\", \"–\")}`, //ndash\n\t\t},\n\t\tmethods: {\n\t\t\tformatter1: val => val?.toLocaleString() ?? \"\",\n\t\t\tformatter2: val => val?.toLocaleString() ?? \"Not recorded\",\n\t\t}\n\t})\n})\n"],"mappings":"aAEA,SAAS,iBAAiB,mBAAoB,UAAY,CAEzD,GAAM,GAAW,WAAW,YAAY,KAAK,OAAO,MAAM,GACpD,EAAa,EAAS,EAAS,OAAS,GACxC,EAAgB,EAAS,MAAM,EAAS,OAAS,GAGjD,EAAU,WAAW,YAAY,KAAK,KAAK,GAAK,EAAE,UAAY,SAC9D,EAAiB,CAAC,CACvB,KAAM,QACN,KAAM,EAAc,IAAI,GAAK,EAAQ,MAGhC,EAAW,WAAW,4BAC5B,EAAS,MAAM,WAAa,EAAc,IAAI,GAAK,EAAE,QAAQ,IAAK,WAClE,EAAS,MAAM,MAAM,KAAO,OAC5B,EAAS,MAAM,MAAM,KAAO,mBAC5B,EAAS,MAAM,OAAO,UAAY,GAC1B,GAAI,GAAM,KAAS,QAAQ,MAEnC,EAAS,QAAQ,EAAI,CACpB,UAAW,GAAO,EAAI,kBAGvB,EAAS,MAAM,WAAa,GAG5B,WAAW,MAAM,OAAS,CACzB,QAAS,EACT,OAAQ,EACR,YAAa,IAKd,GAAM,GAAqB,WAAW,YAAY,KAAK,KAAK,GAAK,EAAE,UAAY,yBACzE,EAAuB,CAAC,CAC7B,KAAM,wBACN,KAAM,EAAS,IAAI,GAAK,EAAmB,MAGtC,EAAW,WAAW,6BAC5B,EAAS,MAAM,WAAa,EAAS,IAAI,GAAK,CAAC,EAAE,MAAM,EAAG,GAAK,SAAK,EAAE,MAAM,KAC5E,EAAS,MAAM,UAAY,CAAE,KAAM,IACnC,EAAS,MAAM,cAAgB,UAC/B,EAAS,MAAM,MAAM,KAAO,OAC5B,EAAS,MAAM,MAAM,KAAO,mBAC5B,EAAS,MAAM,OAAO,UAAY,GAC1B,GAAI,GAAM,KAAS,QAAQ,MAEnC,EAAS,QAAQ,EAAI,CACpB,UAAW,GAAO,EAAI,kBAGvB,WAAW,MAAM,OAAS,CACzB,QAAS,EACT,OAAQ,EACR,YAAa,IAKd,GAAM,GAAc,WAAW,YAAY,KAAK,OAAO,GAAK,EAAE,UAAY,SAAW,EAAE,UAAY,yBACnG,EAAY,KAAK,SAAU,EAAG,EAAG,CAChC,MAAO,GAAE,GAAc,EAAE,KAE1B,GAAM,GAAe,EAAY,IAAI,GAAK,EAAE,IAEtC,EAAW,WAAW,4BAC5B,EAAS,MAAM,WAAa,CAAC,WAAY,UACzC,EAAS,OAAS,EAAY,IAAI,GAAK,EAAE,UACzC,EAAS,QAAQ,EAAI,CACpB,UAAW,CAAC,EAAK,IAAY,CAC5B,GAAM,GAAU,EAAQ,QAAQ,cAAc,EAAQ,aAAa,GACnE,MAAO,GAAG,EAAI,qBAAqB,EAAQ,QAAQ,SAGrD,EAAS,OAAS,EAAS,OAAO,OAAO,CAAC,UAAW,UAAW,UAAW,UAAW,YAEtF,WAAW,MAAM,OAAS,CACzB,QAAS,EACT,OAAQ,EACR,YAAa,IAId,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,IAAM,4CAChB,SAAU,IAAM,mFAChB,SAAU,IAAM,yEAAyE,EAAW,QAAQ,IAAK,aAElH,QAAS,CACR,WAAY,GAAI,CAjGnB,MAiGsB,0BAAK,mBAAL,OAAyB,IAC5C,WAAY,GAAI,CAlGnB,MAkGsB,0BAAK,mBAAL,OAAyB","names":[]}
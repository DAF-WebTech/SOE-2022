"use strict";document.addEventListener("DOMContentLoaded",function(){const yearKeys=soefinding.findingJson.meta.fields.slice(1,6);const latestYear=yearKeys[yearKeys.length-1];const sectorItems=soefinding.findingJson.data.filter(d=>d["Waste type"]!=="All");sectorItems.sort(function(a,b){return b[latestYear]-a[latestYear]});const wasteTypeSeries=sectorItems.map(d=>{return{name:d["Waste type"],data:yearKeys.map(y=>d[y])}});const options1=soefinding.getDefaultStackedColumnChartOptions();options1.markers={size:4};options1.tooltip.shared=false;options1.tooltip.y={formatter:val=>`${val?.toLocaleString()??"n/a"}`};options1.xaxis.categories=yearKeys.map(y=>y.replace("-","\u2013"));options1.xaxis.title.text="Year";options1.yaxis.forceNiceScale=false;options1.yaxis.labels.formatter=val=>`${val/1e6}M`;options1.yaxis.max=125e4;options1.yaxis.min=0;options1.yaxis.tickAmount=5;options1.yaxis.title.text="Tonnes (million)";soefinding.state.chart1={options:options1,series:wasteTypeSeries,chartactive:true};const allItem=soefinding.findingJson.data.find(d=>d["Waste type"]=="Municipal solid");const totalItemSeries=[{name:"Tonnes",data:yearKeys.slice(1).map(y=>allItem[y])}];const options2=soefinding.getDefaultLineChartOptions();options2.chart.stacked=true;options2.xaxis.categories=yearKeys.slice(1).map(y=>y.replace("-","\u2013"));options2.xaxis.title.text="Year";options2.xaxis.tickPlacement="between";options2.yaxis.title.text="Tonnes";options2.yaxis.tickAmount=7;options2.yaxis.min=4e4;options2.yaxis.max=7e4;options2.yaxis.labels.formatter=val=>`${val.toLocaleString()}`;options2.tooltip.y={formatter:val=>`${val}`};soefinding.state.chart2={options:options2,series:totalItemSeries,chartactive:true};sectorItems.sort(function(a,b){return b["2018-19 Other"]-a["2018-19 Other"]});const latestOtherSeries=sectorItems.map(d=>d["2018-19 Other"]?d["2018-19 Other"]:0);const options3=soefinding.getDefaultPieChartOptions();options3.labels=sectorItems.map(d=>d["Waste type"]);options3.tooltip={y:{formatter:(val,options)=>{const percent=options.globals.seriesPercent[options.seriesIndex][0];return`${val.toLocaleString()} (${percent.toFixed(1)}%)`}}};options3.xaxis.categories=["Waste Type","Tonnes"];soefinding.state.chart3={options:options3,series:latestOtherSeries,chartactive:true};const keys=["2018-19 Received by Landfill","2018-19 Other"];const latestOtherLandfillSeries=keys.map(k=>{return{name:k.replace("-","\u2013").split(" "),data:sectorItems.map(d=>d[k])}});const options4=soefinding.getDefaultBarChartOptions();options4.chart.stacked=true;options4.xaxis.categories=sectorItems.map(d=>d["Waste type"].split(" "));options4.xaxis.title.text="Type of interstate household waste received";options4.yaxis.title.text="Tonnes (million)";options4.yaxis.labels.formatter=val=>val==0?0:val>=1e5?`${(val/1e6).toFixed(1)}m`:`${val/1e3}k`;options4.tooltip.y={formatter:val=>`${val?.toLocaleString()??"n/a"}`};delete options4.xaxis.tickPlacement;soefinding.state.chart4={options:options4,series:latestOtherLandfillSeries,chartactive:true};new Vue({el:"#chartContainer",data:soefinding.state,computed:{heading1:()=>"Interstate household waste received, by waste type",heading2:()=>"Trend in total interstate household waste received",heading3:()=>"Proportion of interstate household waste received, 2018\u201319 Other",heading4:()=>"Interstate household waste received by landfill and other, 2018\u20132019"},methods:{formatter1:val=>val?.toLocaleString()??"",formatter2:val=>val?.toLocaleString()??0,onStackedRadioClick:function(){this.chart1.options.chart.type="bar";this.chart1.options.chart.stacked=true},onLineRadioClick:function(){this.chart1.options.chart.type="line";this.chart1.options.chart.stacked=false;this.chart1.options.markers={size:4};this.chart1.options.tooltip.shared=false}}})});
//# sourceMappingURL=interstate-household-waste.js.map
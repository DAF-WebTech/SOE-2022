{"version":3,"sources":["../../../src/pollution/waste/per-capita-waste.js"],"sourcesContent":["\"use strict\"\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\n\tconst yearKeys = soefinding.findingJson.meta.fields.slice(1)\r\n\tconst latestYear = yearKeys[yearKeys.length - 1]\r\n\r\n\t//1. column, all waste types each year\r\n\tconst qldItem = soefinding.findingJson.data.find(d => d[\"Waste region\"] == \"Queensland\")\r\n\tconst wasteYearSeries = [{\r\n\t\tname: \"Kilograms per capita\",\r\n\t\tdata: yearKeys.slice(8).map(y => qldItem[y])\r\n\t}]\r\n\r\n\tconst options1 = soefinding.getDefaultBarChartOptions()\r\n\toptions1.xaxis.categories = yearKeys.slice(8).map(y => y.replace(\"-\", \"–\")) // ndash\r\n\toptions1.xaxis.title.text = \"Year\"\r\n\toptions1.yaxis.title.text = \"Kilograms per capita\"\r\n\r\n\tsoefinding.state.chart1 = {\r\n\t\toptions: options1,\r\n\t\tseries: wasteYearSeries,\r\n\t\tchartactive: true,\r\n\t}\r\n\r\n\r\n\t// 2. line, same data as (1), all years\r\n\tconst trendSeries = [{\r\n\t\tname: \"Kilograms per capita\",\r\n\t\tdata: yearKeys.map(y => qldItem[y])\r\n\t}]\r\n\r\n\tconst options2 = soefinding.getDefaultLineChartOptions()\r\n\toptions2.xaxis.categories = yearKeys.map(y => y.replace(\"-\", \"–\")) // ndash\r\n\toptions2.xaxis.title.text = \"Year\"\r\n\toptions2.yaxis.title.text = \"Kilograms per capita\"\r\n\r\n\tsoefinding.state.chart2 = {\r\n\t\toptions: options2,\r\n\t\tseries: trendSeries,\r\n\t\tchartactive: true,\r\n\t}\r\n\r\n\r\n\t// 3 column, total in latest year for each region\r\n\tconst regionItems = soefinding.findingJson.data.filter(d => d[\"Waste region\"] != \"Queensland\")\r\n\tregionItems.sort(function (a, b) {\r\n\t\treturn b[latestYear] - a[latestYear]\r\n\t})\r\n\tconst regionSeries = [{\r\n\t\tname: \"Kilograms per capita\",\r\n\t\tdata: regionItems.map(d => d[latestYear])\r\n\t}]\r\n\tregionSeries.sort(function (a, b) {\r\n\t\treturn b - a\r\n\t})\r\n\r\n\tconst options3 = soefinding.getDefaultBarChartOptions()\r\n\toptions3.xaxis.categories = regionItems.map(d => d[\"Waste region\"].replace(\"-\", \" –\").split(\" \"))\r\n\toptions3.xaxis.title.text = \"Region\"\r\n\toptions3.yaxis.title.text = \"Kilograms per capita\"\r\n\r\n\tsoefinding.state.chart3 = {\r\n\t\toptions: options3,\r\n\t\tseries: regionSeries,\r\n\t\tchartactive: true,\r\n\t}\r\n\r\n\r\n\r\n\r\n\tnew Vue({\r\n\t\tel: \"#chartContainer\",\r\n\t\tdata: soefinding.state,\r\n\t\tcomputed: {\r\n\t\t\theading1: () => \"Household waste generated per capita\",\r\n\t\t\theading2: () => \"Trend in total household waste generated per capita\",\r\n\t\t\theading3: () => `Househould waste generated per capita by region, ${latestYear.replace(\"-\", \"–\")}`, //ndash\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatter1: val => val?.toLocaleString() ?? \"\",\r\n\t\t}\r\n\t})\r\n})\r\n"],"mappings":"aAEA,SAAS,iBAAiB,mBAAoB,UAAY,CAEzD,KAAM,UAAW,WAAW,YAAY,KAAK,OAAO,MAAM,GAC1D,KAAM,YAAa,SAAS,SAAS,OAAS,GAG9C,KAAM,SAAU,WAAW,YAAY,KAAK,KAAK,GAAK,EAAE,iBAAmB,cAC3E,KAAM,iBAAkB,CAAC,CACxB,KAAM,uBACN,KAAM,SAAS,MAAM,GAAG,IAAI,GAAK,QAAQ,MAG1C,KAAM,UAAW,WAAW,4BAC5B,SAAS,MAAM,WAAa,SAAS,MAAM,GAAG,IAAI,GAAK,EAAE,QAAQ,IAAK,WACtE,SAAS,MAAM,MAAM,KAAO,OAC5B,SAAS,MAAM,MAAM,KAAO,uBAE5B,WAAW,MAAM,OAAS,CACzB,QAAS,SACT,OAAQ,gBACR,YAAa,MAKd,KAAM,aAAc,CAAC,CACpB,KAAM,uBACN,KAAM,SAAS,IAAI,GAAK,QAAQ,MAGjC,KAAM,UAAW,WAAW,6BAC5B,SAAS,MAAM,WAAa,SAAS,IAAI,GAAK,EAAE,QAAQ,IAAK,WAC7D,SAAS,MAAM,MAAM,KAAO,OAC5B,SAAS,MAAM,MAAM,KAAO,uBAE5B,WAAW,MAAM,OAAS,CACzB,QAAS,SACT,OAAQ,YACR,YAAa,MAKd,KAAM,aAAc,WAAW,YAAY,KAAK,OAAO,GAAK,EAAE,iBAAmB,cACjF,YAAY,KAAK,SAAU,EAAG,EAAG,CAChC,MAAO,GAAE,YAAc,EAAE,cAE1B,KAAM,cAAe,CAAC,CACrB,KAAM,uBACN,KAAM,YAAY,IAAI,GAAK,EAAE,eAE9B,aAAa,KAAK,SAAU,EAAG,EAAG,CACjC,MAAO,GAAI,IAGZ,KAAM,UAAW,WAAW,4BAC5B,SAAS,MAAM,WAAa,YAAY,IAAI,GAAK,EAAE,gBAAgB,QAAQ,IAAK,WAAM,MAAM,MAC5F,SAAS,MAAM,MAAM,KAAO,SAC5B,SAAS,MAAM,MAAM,KAAO,uBAE5B,WAAW,MAAM,OAAS,CACzB,QAAS,SACT,OAAQ,aACR,YAAa,MAMd,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,IAAM,uCAChB,SAAU,IAAM,sDAChB,SAAU,IAAM,oDAAoD,WAAW,QAAQ,IAAK,aAE7F,QAAS,CACR,WAAY,KAAO,KAAK,kBAAoB","names":[]}
{"version":3,"sources":["../../../src/pollution/waste/per-capita-waste.js"],"sourcesContent":["\"use strict\"\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\n\tconst yearKeys = soefinding.findingJson.meta.fields.slice(1)\r\n\tconst latestYear = yearKeys[yearKeys.length - 1]\r\n\r\n\t//1. column, all waste types each year\r\n\tconst qldItem = soefinding.findingJson.data.find(d => d[\"Waste region\"] == \"Queensland\")\r\n\tconst wasteYearSeries = [{\r\n\t\tname: \"Kilograms per capita\",\r\n\t\tdata: yearKeys.slice(8).map(y => qldItem[y])\r\n\t}]\r\n\r\n\tconst options1 = soefinding.getDefaultBarChartOptions()\r\n\toptions1.xaxis.categories = yearKeys.slice(8).map(y => y.replace(\"-\", \"–\")) // ndash\r\n\toptions1.xaxis.title.text = \"Year\"\r\n\toptions1.yaxis.title.text = \"Kilograms per capita\"\r\n\r\n\tsoefinding.state.chart1 = {\r\n\t\toptions: options1,\r\n\t\tseries: wasteYearSeries,\r\n\t\tchartactive: true,\r\n\t}\r\n\r\n\r\n\t// 2. line, same data as (1), all years\r\n\tconst trendSeries = [{\r\n\t\tname: \"Kilograms per capita\",\r\n\t\tdata: yearKeys.map(y => qldItem[y])\r\n\t}]\r\n\r\n\tconst options2 = soefinding.getDefaultLineChartOptions()\r\n\toptions2.xaxis.categories = yearKeys.map(y => y.replace(\"-\", \"–\")) // ndash\r\n\toptions2.xaxis.title.text = \"Year\"\r\n\toptions2.yaxis.title.text = \"Kilograms per capita\"\r\n\r\n\tsoefinding.state.chart2 = {\r\n\t\toptions: options2,\r\n\t\tseries: trendSeries,\r\n\t\tchartactive: true,\r\n\t}\r\n\r\n\r\n\t// 3 column, total in latest year for each region\r\n\tconst regionItems = soefinding.findingJson.data.filter(d => d[\"Waste region\"] != \"Queensland\")\r\n\tregionItems.sort(function (a, b) {\r\n\t\treturn b[latestYear] - a[latestYear]\r\n\t})\r\n\tconst regionSeries = [{\r\n\t\tname: \"Kilograms per capita\",\r\n\t\tdata: regionItems.map(d => d[latestYear])\r\n\t}]\r\n\tregionSeries.sort(function (a, b) {\r\n\t\treturn b - a\r\n\t})\r\n\r\n\tconst options3 = soefinding.getDefaultBarChartOptions()\r\n\toptions3.xaxis.categories = regionItems.map(d => d[\"Waste region\"].replace(\"-\", \" –\").split(\" \"))\r\n\toptions3.xaxis.title.text = \"Region\"\r\n\toptions3.yaxis.title.text = \"Kilograms per capita\"\r\n\r\n\tsoefinding.state.chart3 = {\r\n\t\toptions: options3,\r\n\t\tseries: regionSeries,\r\n\t\tchartactive: true,\r\n\t}\r\n\r\n\r\n\r\n\r\n\tnew Vue({\r\n\t\tel: \"#chartContainer\",\r\n\t\tdata: soefinding.state,\r\n\t\tcomputed: {\r\n\t\t\theading1: () => \"Household waste generated per capita\",\r\n\t\t\theading2: () => \"Trend in total household waste generated per capita\",\r\n\t\t\theading3: () => `Househould waste generated per capita by region, ${latestYear.replace(\"-\", \"–\")}`, //ndash\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatter1: val => val?.toLocaleString() ?? \"\",\r\n\t\t}\r\n\t})\r\n})\r\n"],"mappings":"aAEA,SAAS,iBAAiB,mBAAoB,UAAY,CAEzD,GAAM,GAAW,WAAW,YAAY,KAAK,OAAO,MAAM,GACpD,EAAa,EAAS,EAAS,OAAS,GAGxC,EAAU,WAAW,YAAY,KAAK,KAAK,GAAK,EAAE,iBAAmB,cACrE,EAAkB,CAAC,CACxB,KAAM,uBACN,KAAM,EAAS,MAAM,GAAG,IAAI,GAAK,EAAQ,MAGpC,EAAW,WAAW,4BAC5B,EAAS,MAAM,WAAa,EAAS,MAAM,GAAG,IAAI,GAAK,EAAE,QAAQ,IAAK,WACtE,EAAS,MAAM,MAAM,KAAO,OAC5B,EAAS,MAAM,MAAM,KAAO,uBAE5B,WAAW,MAAM,OAAS,CACzB,QAAS,EACT,OAAQ,EACR,YAAa,IAKd,GAAM,GAAc,CAAC,CACpB,KAAM,uBACN,KAAM,EAAS,IAAI,GAAK,EAAQ,MAG3B,EAAW,WAAW,6BAC5B,EAAS,MAAM,WAAa,EAAS,IAAI,GAAK,EAAE,QAAQ,IAAK,WAC7D,EAAS,MAAM,MAAM,KAAO,OAC5B,EAAS,MAAM,MAAM,KAAO,uBAE5B,WAAW,MAAM,OAAS,CACzB,QAAS,EACT,OAAQ,EACR,YAAa,IAKd,GAAM,GAAc,WAAW,YAAY,KAAK,OAAO,GAAK,EAAE,iBAAmB,cACjF,EAAY,KAAK,SAAU,EAAG,EAAG,CAChC,MAAO,GAAE,GAAc,EAAE,KAE1B,GAAM,GAAe,CAAC,CACrB,KAAM,uBACN,KAAM,EAAY,IAAI,GAAK,EAAE,MAE9B,EAAa,KAAK,SAAU,EAAG,EAAG,CACjC,MAAO,GAAI,IAGZ,GAAM,GAAW,WAAW,4BAC5B,EAAS,MAAM,WAAa,EAAY,IAAI,GAAK,EAAE,gBAAgB,QAAQ,IAAK,WAAM,MAAM,MAC5F,EAAS,MAAM,MAAM,KAAO,SAC5B,EAAS,MAAM,MAAM,KAAO,uBAE5B,WAAW,MAAM,OAAS,CACzB,QAAS,EACT,OAAQ,EACR,YAAa,IAMd,GAAI,KAAI,CACP,GAAI,kBACJ,KAAM,WAAW,MACjB,SAAU,CACT,SAAU,IAAM,uCAChB,SAAU,IAAM,sDAChB,SAAU,IAAM,oDAAoD,EAAW,QAAQ,IAAK,aAE7F,QAAS,CACR,WAAY,GAAI,CAhFnB,MAgFsB,0BAAK,mBAAL,OAAyB","names":[]}
"use strict";document.addEventListener("DOMContentLoaded",function(){let s=soefinding.findingJson.meta.fields.slice(2);soefinding.findingContent.Queensland;let d=["Total Nitrogen (tonne)","Total Phosphorus (tonne)"].map(e=>({name:e,data:s.map(o=>soefinding.findingJson.data.filter(t=>t.Variable==e).reduce((t,n)=>t+n[o],0))}));soefinding.findingContent.Queensland={series1:d};let r=["South East Queensland","Great Barrier Reef"];r.forEach(e=>{let t=soefinding.findingJson.data.filter(n=>n.Region==e&&n.Variable!="Annual volume (GL)").map(n=>({name:n.Variable,data:s.map(g=>n[g])}));soefinding.findingContent[e]={series1:t}});let i=soefinding.getDefaultColumnChartOptions();i.chart.id="chart1",i.xaxis.categories=s,i.xaxis.title.text="Year",i.yaxis.title.text="Load (tonnes)",i.yaxis.labels.formatter=e=>e.toLocaleString(),soefinding.state.chart1={options:i,series:soefinding.findingContent[soefinding.state.currentRegionName].series1,chartactive:!0},soefinding.findingContent.Queensland.series2=[],r.forEach(e=>{let o=soefinding.findingJson.data.find(n=>n.Region==e&&n.Variable=="Annual volume (GL)"),t={name:e,data:s.map(n=>o[n])};soefinding.findingContent.Queensland.series2.push(t),soefinding.findingContent[e].series2=[t]});let a=soefinding.getDefaultLineChartOptions();a.chart.id="chart2",a.xaxis.categories=s,a.xaxis.title.text="Year",a.yaxis.title.text="Annual Volume (gigalitres)",soefinding.state.chart2={options:a,series:soefinding.findingContent[soefinding.state.currentRegionName].series2,chartactive:!0},new Vue({el:"#chartContainer",data:soefinding.state,computed:{heading1:function(){let e="Treated sewage total nitrogen and phosphorous";return this.currentRegionName=="Queensland"?e+=" (for SEQ and GBR)":e+=" in "+this.currentRegionName,e},heading2:function(){let e="Trends in sewage load";return this.currentRegionName=="Queensland"?e+=" volumes, by region":e+=" volume in "+this.currentRegionName,e}},methods:{formatter1:e=>e.toLocaleString()}}),window.soefinding.onRegionChange=function(){ApexCharts.exec("chart1","updateSeries",this.findingContent[this.state.currentRegionName].series1),soefinding.state.chart1.series=this.findingContent[this.state.currentRegionName].series1,ApexCharts.exec("chart2","updateSeries",this.findingContent[this.state.currentRegionName].series2),soefinding.state.chart2.series=this.findingContent[this.state.currentRegionName].series2,soefinding.loadFindingHtml()}});
//# sourceMappingURL=volume-load-sewage.js.map